<!-- ========== FULL TEMPLATE (REPLACE ALL) ========== -->
<style>
/* ===== åŸºæœ¬ï¼ˆæ—¢å­˜ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç¶­æŒï¼‰ ===== */
/* ================================================================
   ã‚¤ãƒ™ãƒ³ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ã®æ”¹å–„ç‰ˆCSS
   ================================================================ */

/* ===== ã‚¤ãƒ™ãƒ³ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆh2ï¼‰ã®ä¿®æ­£ ===== */
.event-section h2 {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
  background: #fff;
  border: 2px solid #222;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  transition: box-shadow .3s;
  margin-bottom: 16px;
  min-height: 40px;
}


/* ã‚¤ãƒ™ãƒ³ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼å†…å®¹ */
.event-section-header {
  display: flex;
  align-items: center;
  gap: 6px;
  margin: 0;
}

.event-section-header img.ev-cl-ic {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

.event-section-header .date-text {
  font-size: 16px;
  font-weight: 600;
  color: #333;
  letter-spacing: 0.3px;
}

.event-section-header .count-text {
  font-size: 14px;
  font-weight: 600;
  color: #8e44ad;
  background: #f8f4fd;
  padding: 2px 8px;
  margin-left: 2px;
}

.full-unstyled-link{
  color: #1a73e8;
  text-decoration: underline;
  font-size: 16px;
  font-weight: bold;
  line-height: 1.7;
}

/* æœˆãƒªãƒ³ã‚¯ã®ã‚¹ã‚¿ã‚¤ãƒ« */
.month-link {
  color: #1a73e8;
  text-decoration: none;
  font-size: 12px;
  font-weight: 600;
  line-height: 1.5;
  transition: all 0.2s ease;
  white-space: nowrap;
  flex-shrink: 0;
}

.month-link:hover {
  text-decoration: underline;
  color: #1557b0;
}

/* ===== æ—¥åˆ¥è©³ç´°ãƒªãƒ³ã‚¯ï¼ˆday-link-containerï¼‰ã®ä¿®æ­£ ===== */
.day-link-container {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px 0;
  width: 100%;
  margin: 0 auto;
}

.day-link {
  background: #fff;
  color: #222;
  padding: 16px 20px;
  border: 2px solid #222;
  font-size: 14px;
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  text-align: left;
  width: 100%;
  max-width: 600px;
  transition: all 0.3s ease;
}

.day-link:hover {
  background: #f8f9fa;
  text-decoration: none;
  color: #333;
  transform: translateY(-1px);
}

.day-link > span:first-child {
  line-height: 1.5;
  flex-grow: 1;
  word-break: break-word;
  padding-right: 15px;
  font-weight: 500;
}

/* çŸ¢å°ã‚¢ã‚¤ã‚³ãƒ³ã®æ”¹å–„ */
.day-link-arrow {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  color: #333;
  border-radius: 50%;
  font-size: 12px;
  font-weight: bold;
  flex-shrink: 0;
  transition: all 0.2s ease;
}

.day-link-arrow::before {
  content: 'â€º';
}

.day-link:hover .day-link-arrow {
  transform: translateX(2px);
}

/* ===== ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ ===== */
@media (max-width: 767px) {

     .event-section-header {
        font-size: 14px;
        display: block;
        width: 100%;
  }

    .event-section h2 {
        flex-direction: column; /* è¦ç´ ã‚’ç¸¦ã«ä¸¦ã¹ã‚‹ */
        align-items: flex-start; /* ç¸¦ã«ä¸¦ã‚“ã è¦ç´ ã‚’å·¦å¯„ã›ã«ã™ã‚‹ */
        padding: 10px 12px;
        min-height: 44px;
    }

    .event-section h2 .month-link {
        align-self: flex-end; /* month-linkã ã‘ã‚’å³å¯„ã›ã«ã™ã‚‹ */
        margin-top: 8px; /* ä¸Šéƒ¨ã«å°‘ã—ä½™ç™½ã‚’è¿½åŠ  */
        font-size: 11px;
    }
  
  .event-section-header img.ev-cl-ic {
    width: 14px;
    height: 14px;
  }
  
  
  .day-link {
    padding: 12px 16px;
    font-size: 13px;
    border-radius: 8px;
  }
  
  .day-link > span:first-child {
    padding-right: 10px;
  }
  
  .day-link-arrow {
    width: 20px;
    height: 20px;
    font-size: 10px;
  }
}
@media (max-width: 460px) {
  .event-section h2 {
    padding: 8px 10px;
  }
  
  .event-section-header {
    font-size: 13px;
    gap: 4px;
  }
  
  .month-link {
    font-size: 10px;
  }
  
  .day-link {
    padding: 10px 12px;
    font-size: 12px;
  }
}





.events-areas-lists{margin:0 auto;padding:0 1.5rem}
.event-location{font-size:12px;color:#666;margin-bottom:10px;display:flex;align-items:center;gap:8px}
img.ev-cl-ic{width:12px;height:auto}
.ev-n{margin-top:2px;font-size:11px;color:#555;text-align:left;display:flex;align-items:center;gap:8px}
.ev-n img.ev-cl-ic{width:12px;height:auto}
.ev-n span{display:block;flex:1;word-break:break-all}
@media (max-width:830px){.ev-n span{overflow:hidden;display:-webkit-box;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-height:1.3}}

/* ===== ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆã‚¿ã‚°ãƒœã‚¿ãƒ³ï¼‹æ—¥ä»˜ï¼‰ä¿®æ­£ç‰ˆ ===== */
/*
.ev-header-sty{position:fixed;top:46px;left:0;right:0;background:rgba(255,255,255,.95);backdrop-filter:blur(10px);border-bottom:1px solid #e0e0e0;box-shadow:0 2px 10px rgba(0,0,0,.1);padding:0;z-index:1002;}
*/
.ev-header-sty{position:fixed;top:46px;left:0;right:0;padding:0;z-index:1002;}
.header-container{display:flex;align-items:stretch;width:100%;margin:0 auto;padding:0}
.ev-left-column{display:flex;flex-direction:column;flex-shrink:0;width:120px}

/* ===== ã€ŒALLã€ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«ä¿®æ­£ ===== */
.this-week{background:#333;color:#fff;padding:12px 16px;text-decoration:none;font-weight:bold;font-size:14px;text-align:center;display:flex;align-items:center;justify-content:center;transition:all .2s ease;margin-left:4px;border-radius:8px;}
.this-week:hover{background:#357ABD;color:#fff}

/* current-area-labelå†…ã®è¦ç´ ã‚’ä¸­å¤®æƒãˆ */
#current-area-label{display:flex;align-items:center;justify-content:center;gap:6px;font-weight:bold;letter-spacing:.5px}
#current-area-label img.ev-cl-ic{width:14px;height:14px;flex-shrink:0}

/* ===== ã€Œã‚¿ã‚°ã€ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«ä¿®æ­£ ===== */
.tag-button-main{background:#fff;color:#333;font-weight:bold;font-size:14px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;position:relative;flex:1;border:2px solid #e0e0e0;border-top:none;}
.tag-button-main:hover{background:#f5f5f5;border-color:#bbb}

/* ã‚¿ã‚°ãƒœã‚¿ãƒ³å†…ã®å·¦å´ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
.tag-button-main>span:first-child{display:flex;align-items:center;gap:0px;font-weight:bold;letter-spacing:.5px}
.tag-button-main>span:first-child img.ev-cl-ic{width:14px;height:14px;flex-shrink:0}

/* ===== CSSçŸ¢å°å®Ÿè£… ===== */
.tag-dropdown-arrow{display:flex;align-items:center;justify-content:center;width:20px;height:20px;flex-shrink:0;transition:transform .2s ease}
.tag-dropdown-arrow::before{content:'';display:block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:6px solid #666;transition:transform .2s ease}
.tag-button-main.active .tag-dropdown-arrow::before{transform:rotate(180deg);border-top-color:#333}

.tag-dropdown-main{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #ddd;border-top:none;box-shadow:0 4px 12px rgba(0,0,0,.15);z-index:1050;max-height:300px;overflow-y:auto;display:none;width:100%;min-width:300px;border-radius:0 0 8px 8px}
.tag-options-main{padding:0px;display:flex;flex-direction:column;gap:8px}
.tag-option-main{display:flex;align-items:center;cursor:pointer;padding:8px;border-radius:6px;transition:.2s}
.tag-option-main:hover{background:#f5f5f5}
.tag-option-main input[type="checkbox"]{margin-right:6px;transform:scale(1.2);width: 8px!important;}
.tag-option-label{display:flex;justify-content:space-between;width:100%;align-items:center}
.tag-name{font-weight:500;color:#333}
.tag-count{font-size:.9rem;color:#666;background:#f0f0f0;padding:2px 6px;border-radius:10px}

/* ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã®ç®¡ç† */
.tag-button-main.dropdown-open{background:#f8f9fa;border-color:#007bff;border-bottom-left-radius:0;border-bottom-right-radius:0}
.tag-button-main.dropdown-open .tag-dropdown-arrow::before{transform:rotate(180deg);border-top-color:#007bff}

.ev-right-column{flex:1;overflow:hidden}
.date-scroll{display:flex;align-items:center;overflow-x:auto;padding:0 0 0 5px;gap:2px;scrollbar-width:none;-ms-overflow-style:none;z-index:3}
.date-scroll::-webkit-scrollbar{display:none}
.month-indicator{background: linear-gradient(135deg, #760bf7, #760bf7);color:#fff;padding:12px 14px;font-weight:bold;font-size:18px;white-space:nowrap;flex-shrink:0;text-align:center;min-height:48px;display:flex;align-items:center;justify-content:center;text-shadow: 1px 1px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;  border-radius: 8px; border: 2px solid #222;}
.date-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px;min-width:68px;height:48px;border:none;background:#f5f5f5;color:#666;cursor:pointer;transition:.2s;font-size:10px;flex-shrink:0;margin:0;box-shadow:0 1px 2px rgba(0,0,0,.1)}
.date-btn:hover{background:#e0e0e0;color:#333}
.date-btn.active{background:#333;color:#fff;font-weight:bold}
/*
.date-btn.has-events{background:#f8f9fa;border:2px solid #d3d3d3;color:#343a40;min-height:70px}
*/
.date-btn.has-events{background:#f8f9fa;border:2px solid #222;border-radius:8px;color:#343a40;min-height:70px}
.date-btn.has-events:hover{background:#ddd;color:#343a40}
.date-btn.has-events.active{background:#333;color:#fff;border-color:#333}
.date-btn.no-events{opacity:.7;background:#f9f9f9;color:#999}
.date-btn.no-events:hover{opacity:.9;background:#f0f0f0}
.date-yobi{font-size:8px;font-weight:500;margin-bottom:2px;opacity:.8}
.date-day{font-size:16px;font-weight:bold;line-height:1}
.date-mt{font-size:7px;opacity:.7;margin-top:1px}

/* ===== ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆé¸æŠæ™‚ã®ã¿è¡¨ç¤ºï¼‰ ===== */
.filter-status{background:linear-gradient(135deg,#f2eefe,#efeaff);border:1px solid #8e6bf5;border-radius:12px;padding:10px 12px;color:#3d2c88;font-weight:600;font-size:.95rem;display:none;position:fixed;left:50%;transform:translateX(-50%);top:var(--filter-top,140px);width:min(1200px,98%)}
#filter-status-spacer{height:0;margin:8px 16px 0}
.filter-status__row{display:flex;align-items:center;justify-content:space-between;gap:8px}
#filter-status-text{line-height:1.3}
.filter-actions{display:flex;align-items:center;gap:8px}
#accordion-toggle-icon{font-size:.9rem;color:#6c47ff;background:#fff;border:1px solid #cfc3ff;border-radius:8px;cursor:pointer;padding:4px 8px}
#accordion-toggle-icon:hover{background:#f7f3ff}
.clear-all-tags-btn{background:#ff6b6b;color:#fff;border:none;border-radius:20px;padding:4px 10px;cursor:pointer;font-size:.9rem}
.clear-all-tags-btn:hover{background:#ff5252}
.expanded-tags{display:none;flex-wrap:wrap;gap:10px;margin-top:10px;padding-top:8px;border-top:1px solid #e0e0ff}
.selected-tag{background:#6c47ff;color:#fff;padding:8px 14px;border-radius:999px;font-size:.95rem;font-weight:700;display:inline-flex;align-items:center;gap:10px}
.badge-count{display:inline-flex;align-items:center;justify-content:center;min-width:24px;height:24px;padding:0 6px;background:rgba(255,255,255,.22);border-radius:999px;font-weight:800}
.tag-remove-btn{background:none;border:1px solid rgba(255,255,255,.5);color:#fff;border-radius:999px;width:24px;height:24px;cursor:pointer;display:flex;align-items:center;justify-content:center}
.tag-remove-btn:hover{background:rgba(255,255,255,.22)}

/* ===== ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ï¼šPC ã§ã¯å¸¸æ™‚å±•é–‹ï¼†ãƒˆã‚°ãƒ«éè¡¨ç¤º ===== */
@media (min-width:1024px){
#accordion-toggle-icon{display:none}
.expanded-tags{display:flex!important}
}

/* ===== ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼ˆåœ°åŸŸï¼‰å®Œå…¨ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ« ===== */
.area-popup{position:fixed;inset:0;z-index:1100;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.4);backdrop-filter:blur(8px)}
.popup-overlay{position:absolute;inset:0;background:rgba(0,0,0,.4);backdrop-filter:blur(4px)}
.popup-content{position:relative;background:#fff;border-radius:16px;box-shadow:0 24px 80px rgba(0,0,0,.25);min-width:500px;max-width:650px;max-height:85vh;overflow-y:auto;z-index:1101;width:95%;margin:0 auto}
.menu-screen{padding:32px 24px 24px}

/* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ˜ãƒƒãƒ€ãƒ¼ */
.popup-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:32px;padding-bottom:16px;border-bottom:1px solid #eee}
.popup-title{display:flex;align-items:center;gap:8px;font-size:20px;font-weight:bold;color:#333;margin:0}
.popup-title img{width:20px;height:20px}
.popup-close{background:none;border:none;font-size:24px;cursor:pointer;color:#999;line-height:1;padding:4px;border-radius:50%;transition:all .2s ease}
.popup-close:hover{color:#333;background:#f5f5f5}

/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ« */
.section-title{font-size:16px;font-weight:bold;color:#666;margin:0 0 16px 0;text-align:left;letter-spacing:.5px}

/* äººæ°—ã‚¨ãƒªã‚¢ */
.popular-section{margin-bottom:32px}
.popular-options{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.popular-option{background:#000;color:#fff;padding:20px 16px;border-radius:12px;text-decoration:none;font-weight:bold;font-size:14px;text-align:center;transition:all .3s ease;box-shadow:0 2px 8px rgba(0,0,0,.1);display:flex;flex-direction:column;align-items:center;gap:8px;position:relative}
.popular-option .area-code{font-size:16px;font-weight:900;letter-spacing:1px}
.popular-option .area-name{font-size:12px;font-weight:400;opacity:.9}
.popular-option:hover{background:#333;transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.2);color:#fff;text-decoration:none}
.popular-option.all-option{background:#4A90E2}
.popular-option.all-option:hover{background:#357ABD}

/* å…¨åœ°åŸŸã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
.select-section .section-title{margin-bottom:16px}
.region-options{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.region-option{background:#f8f9fa;color:#333;padding:20px 16px;border:2px solid #e9ecef;border-radius:12px;font-weight:600;font-size:14px;text-align:center;cursor:pointer;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;gap:8px}
.region-option .area-code{font-size:16px;font-weight:bold;color:#333}
.region-option .area-name{font-size:12px;font-weight:400;color:#666}
.region-option:hover{background:#fff;border-color:#4A90E2;transform:translateY(-1px);box-shadow:0 4px 12px rgba(74,144,226,.15)}
.region-option:hover .area-code{color:#4A90E2}

/* è©³ç´°ç”»é¢ç”¨ï¼ˆæ—¥æœ¬èªå¯¾å¿œãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ”¹å–„ï¼‰ */
.back-button{background:none;border:none;font-size:16px;color:#4A90E2;cursor:pointer;margin-bottom:24px;display:flex;align-items:center;font-weight:500;padding:8px 0;transition:all .2s ease}
.back-button:hover{color:#357ABD}
.detail-title{font-size:24px;font-weight:bold;color:#333;margin:0 0 32px 0;text-align:left;border-bottom:2px solid #4A90E2;padding-bottom:12px}
.all-region-option{display:block;background:#4A90E2;color:#fff;padding:20px;border-radius:12px;text-decoration:none;font-weight:bold;font-size:18px;text-align:center;margin-bottom:32px;transition:all .3s ease;box-shadow:0 3px 12px rgba(74,144,226,.3)}
.all-region-option:hover{background:#357ABD;transform:translateY(-2px);box-shadow:0 6px 20px rgba(74,144,226,.4);color:#fff;text-decoration:none}
.detail-options{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.detail-area-option{background:#f8f9fa;color:#333;padding:20px 16px;border-radius:12px;text-decoration:none;font-weight:600;font-size:14px;text-align:center;transition:all .3s ease;box-shadow:0 2px 6px rgba(0,0,0,.1);display:flex;flex-direction:column;align-items:center;gap:6px;border:2px solid #e9ecef}
.detail-area-option .area-name{font-size:14px;font-weight:bold;color:#333}
.detail-area-option .area-code{font-size:11px;font-weight:400;color:#666}
.detail-area-option:hover{background:#fff;border-color:#4A90E2;transform:translateY(-1px);box-shadow:0 4px 12px rgba(74,144,226,.15);text-decoration:none}
.detail-area-option:hover .area-name{color:#4A90E2}
.detail-area-option:hover .area-code{color:#4A90E2}

/* ===== ãƒ‘ãƒ³ããšç­‰ ===== */
.breadcrumb{display:flex;align-items:center;justify-content:center;font-size:.9rem;color:#666;margin:20px 0;flex-wrap:wrap;gap:4px}
.breadcrumb-link{color:#1a73e8;text-decoration:none;font-weight:700}
.breadcrumb-link:hover{text-decoration:underline}
.breadcrumb-separator{margin:0 8px;color:#999}
.breadcrumb-current{color:#333;font-weight:600}
.events-loading{text-align:center;padding:60px 20px;color:#666}
.loading-spinner{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #4A90E2;border-radius:50%;animation:spin 1s linear infinite;margin:0 auto 20px}
@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
.events-footer-message{margin-top:40px;padding:20px;background:#f8f9fa;border-radius:8px;text-align:center;color:#555;border-left:4px solid #4A90E2}
.events-footer-message a{color:#4A90E2;font-weight:bold;text-decoration:underline}
.day-page-info{margin-bottom:32px}
.day-info-card{background:linear-gradient(135deg,#f8f9fa,#fff);padding:24px;border-radius:8px;border:2px solid #222;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,.1)}
.day-info-card h2{color:#333;margin-bottom:12px;font-size:1.5rem}
.day-info-card p{color:#666;margin:0}
/**/main#MainContent{padding-top:140px}

.day-navigation{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);display:flex;justify-content:space-between;align-items:center;background:rgba(255,255,255,.0);backdrop-filter:blur(10px);padding:12px 20px;border-radius:25px;box-shadow:0 4px 20px rgba(0,0,0,.15);gap:20px;z-index:1001}
.prev-day,.next-day{display:flex;align-items:center;padding:8px 16px;background:#222;color:#fff;text-decoration:none;border-radius:15px;font-weight:900;font-size:14px;transition:all .2s ease;min-width:80px;justify-content:center;text-align:center;font-weight: bold;}
.prev-day:hover,.next-day:hover{background:#357ABD;text-decoration:none;color:white;transform:translateY(-1px)}
.current-day{font-weight:bold;color:#333;font-size:16px;padding:8px 16px; /*background:white;border-radius:15px;border:2px solid #4A90E2;*/white-space:nowrap}
/*
.back-to-month{display:inline-flex;align-items:center;padding:8px 14px;background:#4A90E2;color:white;text-decoration:none;border-radius:6px;font-weight:500;font-size:12px;transition:all .2s ease;white-space:nowrap}
*/
.back-to-month {width: 70px; height: 64px; background: #fff; color: #222; text-decoration: none; display: flex; justify-content: center; align-items: center; padding: 0; position: relative; border-radius: 8px; border: 2px solid #000; box-sizing: border-box; -webkit-transition: all 0.3s ease; transition: all 0.3s ease; margin: 5px auto; font-size: 8px; font-weight: bold; margin-top: -1px;}
.back-to-month::before {content: ""; position: absolute; top: 100%; left: -2px; width: 70px; height: 10px; border: 2px solid #000; border-top: none; border-radius: 0 0 8px 8px; background-image: repeating-linear-gradient(-45deg, #000, #000 1px, transparent 1px, transparent 4px); background-size: 6px 6px; background-color: white; z-index: -1; white-space: nowrap;}
.back-to-month span {display: block; text-align: center; line-height: 1.2;}
.back-to-month:hover{background:#222;color:white;text-decoration:none;transform:translateY(-1px)}

/* ===== SP èª¿æ•´ ===== */
@media (max-width:768px){
.header-container{padding:0}
.ev-left-column{width:120px}
.this-week{padding:10px 12px;font-size:12px; border-radius:8px;}
.tag-button-main{padding:10px 12px;font-size:12px}
#current-area-label{gap:4px}
#current-area-label img.ev-cl-ic,.tag-button-main img.ev-cl-ic{width:12px;height:12px}
.tag-dropdown-arrow::before{border-left-width:4px;border-right-width:4px;border-top-width:5px}
.date-btn{min-width:52px;height:42px;padding:6px}
.date-day{font-size:14px}
.month-indicator{padding:10px 12px;font-size:10px;min-height:42px}

/* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
.popup-content{min-width:auto;margin:20px;max-height:90vh;width:calc(100% - 40px)}
.menu-screen{padding:24px 20px 20px}
.popular-options{grid-template-columns:repeat(2,1fr);gap:10px}
.region-options{grid-template-columns:1fr;gap:10px}
.popular-option{padding:16px 12px;font-size:13px}
.popular-option .area-code{font-size:14px}
.popular-option .area-name{font-size:11px}
.region-option{padding:16px 12px;font-size:13px}
.region-option .area-code{font-size:14px}
.region-option .area-name{font-size:11px}
.detail-options{grid-template-columns:repeat(2,1fr);gap:10px}
.detail-area-option{padding:16px 12px;font-size:13px}
.detail-area-option .area-name{font-size:13px}
.detail-area-option .area-code{font-size:10px}
.all-region-option{padding:16px;font-size:16px}
}
</style>

{% assign current_path = request.path %}
{% assign region_code   = 'ALL' %}
{% assign region_name_jp = 'å…¨å›½' %}
{% assign year_month = '' %}
{% assign year_month_day = '' %}
{% assign display_year   = '' %}
{% assign display_month  = '' %}
{% assign display_day    = '' %}
{% assign display_month_name = '' %}
{% assign page_type = 'top' %}

{% comment %} åœ°åŸŸåˆ¤å®šï¼ˆå…¨åœ°åŸŸå¯¾å¿œï¼‰ {% endcomment %}
{% if current_path contains 'event-hokkaido-list' %}{% assign region_code = 'HOKKAIDO' %}{% assign region_name_jp = 'åŒ—æµ·é“' %}
{% elsif current_path contains 'event-tohoku-list' %}{% assign region_code = 'TOHOKU' %}{% assign region_name_jp = 'æ±åŒ—' %}
{% elsif current_path contains 'event-kanto-list' %}{% assign region_code = 'KANTO' %}{% assign region_name_jp = 'é–¢æ±' %}
{% elsif current_path contains 'event-chubu-list' %}{% assign region_code = 'CHUBU' %}{% assign region_name_jp = 'ä¸­éƒ¨' %}
{% elsif current_path contains 'event-kansai-list' %}{% assign region_code = 'KANSAI' %}{% assign region_name_jp = 'é–¢è¥¿' %}
{% elsif current_path contains 'event-shikoku-list' %}{% assign region_code = 'SHIKOKU' %}{% assign region_name_jp = 'å››å›½' %}
{% elsif current_path contains 'event-chugoku-list' %}{% assign region_code = 'CHUGOKU' %}{% assign region_name_jp = 'ä¸­å›½' %}
{% elsif current_path contains 'event-kyushu-list' %}{% assign region_code = 'KYUSHU' %}{% assign region_name_jp = 'ä¹å·' %}
{% elsif current_path contains 'event-okinawa-list' %}{% assign region_code = 'OKINAWA' %}{% assign region_name_jp = 'æ²–ç¸„' %}
{% elsif current_path contains 'event-tokyo-list' %}{% assign region_code = 'TOKYO'  %}{% assign region_name_jp = 'æ±äº¬'  %}
{% elsif current_path contains 'event-osaka-list' %}{% assign region_code = 'OSAKA'  %}{% assign region_name_jp = 'å¤§é˜ª'  %}
{% elsif current_path contains 'event-kyoto-list' %}{% assign region_code = 'KYOTO'  %}{% assign region_name_jp = 'äº¬éƒ½'  %}
{% elsif current_path contains 'event-aichi-list' %}{% assign region_code = 'AICHI'  %}{% assign region_name_jp = 'æ„›çŸ¥'  %}
{% elsif current_path contains 'event-fukuoka-list' %}{% assign region_code = 'FUKUOKA' %}{% assign region_name_jp = 'ç¦å²¡' %}
{% elsif current_path contains 'event-kanagawa-list' %}{% assign region_code = 'KANAGAWA' %}{% assign region_name_jp = 'ç¥å¥ˆå·' %}
{% elsif current_path contains 'event-chiba-list' %}{% assign region_code = 'CHIBA' %}{% assign region_name_jp = 'åƒè‘‰' %}
{% elsif current_path contains 'event-saitama-list' %}{% assign region_code = 'SAITAMA' %}{% assign region_name_jp = 'åŸ¼ç‰' %}
{% elsif current_path contains 'event-ibaraki-list' %}{% assign region_code = 'IBARAKI' %}{% assign region_name_jp = 'èŒ¨åŸ' %}
{% elsif current_path contains 'event-tochigi-list' %}{% assign region_code = 'TOCHIGI' %}{% assign region_name_jp = 'æ ƒæœ¨' %}
{% elsif current_path contains 'event-gunma-list' %}{% assign region_code = 'GUNMA' %}{% assign region_name_jp = 'ç¾¤é¦¬' %}
{% elsif current_path contains 'event-aomori-list' %}{% assign region_code = 'AOMORI' %}{% assign region_name_jp = 'é’æ£®' %}
{% elsif current_path contains 'event-iwate-list' %}{% assign region_code = 'IWATE' %}{% assign region_name_jp = 'å²©æ‰‹' %}
{% elsif current_path contains 'event-miyagi-list' %}{% assign region_code = 'MIYAGI' %}{% assign region_name_jp = 'å®®åŸ' %}
{% elsif current_path contains 'event-akita-list' %}{% assign region_code = 'AKITA' %}{% assign region_name_jp = 'ç§‹ç”°' %}
{% elsif current_path contains 'event-yamagata-list' %}{% assign region_code = 'YAMAGATA' %}{% assign region_name_jp = 'å±±å½¢' %}
{% elsif current_path contains 'event-fukushima-list' %}{% assign region_code = 'FUKUSHIMA' %}{% assign region_name_jp = 'ç¦å³¶' %}
{% elsif current_path contains 'event-shizuoka-list' %}{% assign region_code = 'SHIZUOKA' %}{% assign region_name_jp = 'é™å²¡' %}
{% elsif current_path contains 'event-gifu-list' %}{% assign region_code = 'GIFU' %}{% assign region_name_jp = 'å²é˜œ' %}
{% elsif current_path contains 'event-nagano-list' %}{% assign region_code = 'NAGANO' %}{% assign region_name_jp = 'é•·é‡' %}
{% elsif current_path contains 'event-yamanashi-list' %}{% assign region_code = 'YAMANASHI' %}{% assign region_name_jp = 'å±±æ¢¨' %}
{% elsif current_path contains 'event-niigata-list' %}{% assign region_code = 'NIIGATA' %}{% assign region_name_jp = 'æ–°æ½Ÿ' %}
{% elsif current_path contains 'event-toyama-list' %}{% assign region_code = 'TOYAMA' %}{% assign region_name_jp = 'å¯Œå±±' %}
{% elsif current_path contains 'event-ishikawa-list' %}{% assign region_code = 'ISHIKAWA' %}{% assign region_name_jp = 'çŸ³å·' %}
{% elsif current_path contains 'event-fukui-list' %}{% assign region_code = 'FUKUI' %}{% assign region_name_jp = 'ç¦äº•' %}
{% elsif current_path contains 'event-hyogo-list' %}{% assign region_code = 'HYOGO' %}{% assign region_name_jp = 'å…µåº«' %}
{% elsif current_path contains 'event-nara-list' %}{% assign region_code = 'NARA' %}{% assign region_name_jp = 'å¥ˆè‰¯' %}
{% elsif current_path contains 'event-shiga-list' %}{% assign region_code = 'SHIGA' %}{% assign region_name_jp = 'æ»‹è³€' %}
{% elsif current_path contains 'event-wakayama-list' %}{% assign region_code = 'WAKAYAMA' %}{% assign region_name_jp = 'å’Œæ­Œå±±' %}
{% elsif current_path contains 'event-tokushima-list' %}{% assign region_code = 'TOKUSHIMA' %}{% assign region_name_jp = 'å¾³å³¶' %}
{% elsif current_path contains 'event-kagawa-list' %}{% assign region_code = 'KAGAWA' %}{% assign region_name_jp = 'é¦™å·' %}
{% elsif current_path contains 'event-ehime-list' %}{% assign region_code = 'EHIME' %}{% assign region_name_jp = 'æ„›åª›' %}
{% elsif current_path contains 'event-kochi-list' %}{% assign region_code = 'KOCHI' %}{% assign region_name_jp = 'é«˜çŸ¥' %}
{% elsif current_path contains 'event-hiroshima-list' %}{% assign region_code = 'HIROSHIMA' %}{% assign region_name_jp = 'åºƒå³¶' %}
{% elsif current_path contains 'event-okayama-list' %}{% assign region_code = 'OKAYAMA' %}{% assign region_name_jp = 'å²¡å±±' %}
{% elsif current_path contains 'event-yamaguchi-list' %}{% assign region_code = 'YAMAGUCHI' %}{% assign region_name_jp = 'å±±å£' %}
{% elsif current_path contains 'event-shimane-list' %}{% assign region_code = 'SHIMANE' %}{% assign region_name_jp = 'å³¶æ ¹' %}
{% elsif current_path contains 'event-tottori-list' %}{% assign region_code = 'TOTTORI' %}{% assign region_name_jp = 'é³¥å–' %}
{% elsif current_path contains 'event-saga-list' %}{% assign region_code = 'SAGA' %}{% assign region_name_jp = 'ä½è³€' %}
{% elsif current_path contains 'event-nagasaki-list' %}{% assign region_code = 'NAGASAKI' %}{% assign region_name_jp = 'é•·å´' %}
{% elsif current_path contains 'event-kumamoto-list' %}{% assign region_code = 'KUMAMOTO' %}{% assign region_name_jp = 'ç†Šæœ¬' %}
{% elsif current_path contains 'event-oita-list' %}{% assign region_code = 'OITA' %}{% assign region_name_jp = 'å¤§åˆ†' %}
{% elsif current_path contains 'event-miyazaki-list' %}{% assign region_code = 'MIYAZAKI' %}{% assign region_name_jp = 'å®®å´' %}
{% elsif current_path contains 'event-kagoshima-list' %}{% assign region_code = 'KAGOSHIMA' %}{% assign region_name_jp = 'é¹¿å…å³¶' %}
{% elsif current_path contains 'event-douo-list' %}{% assign region_code = 'DOUO' %}{% assign region_name_jp = 'é“å¤®' %}
{% elsif current_path contains 'event-tokachi-list' %}{% assign region_code = 'TOKACHI' %}{% assign region_name_jp = 'åå‹' %}
{% elsif current_path contains 'event-donan-list' %}{% assign region_code = 'DONAN' %}{% assign region_name_jp = 'é“å—' %}
{% elsif current_path contains 'event-okhotsk-list' %}{% assign region_code = 'OKHOTSK' %}{% assign region_name_jp = 'ã‚ªãƒ›ãƒ¼ãƒ„ã‚¯' %}
{% elsif current_path contains 'event-dohoku-list' %}{% assign region_code = 'DOHOKU' %}{% assign region_name_jp = 'é“åŒ—' %}
{% elsif current_path contains 'event-kushiro-list' %}{% assign region_code = 'KUSHIRO' %}{% assign region_name_jp = 'é‡§è·¯ãƒ»æ ¹å®¤' %}
{% elsif current_path contains 'event-naha-list' %}{% assign region_code = 'NAHA' %}{% assign region_name_jp = 'é‚£è¦‡' %}
{% elsif current_path contains 'event-ishigaki-list' %}{% assign region_code = 'ISHIGAKI' %}{% assign region_name_jp = 'çŸ³å£å³¶' %}
{% endif %}

{% assign url_parts = current_path | split: 'list-' %}
{% if url_parts.size > 1 %}
  {% assign date_part = url_parts[1] %}
  {% assign date_segments = date_part | split: '-' %}
  {% if date_segments.size == 3 %}
    {% assign year_month_day = date_part %}
    {% assign year_month     = date_segments[0] | append: '-' | append: date_segments[1] %}
    {% assign display_year   = date_segments[0] %}
    {% assign display_month  = date_segments[1] %}
    {% assign display_day    = date_segments[2] %}
    {% assign page_type      = 'day' %}
  {% elsif date_segments.size == 2 %}
    {% assign year_month     = date_part %}
    {% assign display_year   = date_segments[0] %}
    {% assign display_month  = date_segments[1] %}
    {% assign page_type      = 'month' %}
  {% endif %}
{% endif %}

{% case display_month %}
  {% when '01' %}{% assign display_month_name = '1æœˆ' %}
  {% when '02' %}{% assign display_month_name = '2æœˆ' %}
  {% when '03' %}{% assign display_month_name = '3æœˆ' %}
  {% when '04' %}{% assign display_month_name = '4æœˆ' %}
  {% when '05' %}{% assign display_month_name = '5æœˆ' %}
  {% when '06' %}{% assign display_month_name = '6æœˆ' %}
  {% when '07' %}{% assign display_month_name = '7æœˆ' %}
  {% when '08' %}{% assign display_month_name = '8æœˆ' %}
  {% when '09' %}{% assign display_month_name = '9æœˆ' %}
  {% when '10' %}{% assign display_month_name = '10æœˆ' %}
  {% when '11' %}{% assign display_month_name = '11æœˆ' %}
  {% when '12' %}{% assign display_month_name = '12æœˆ' %}
{% endcase %}

<div class="events-areas-lists">
  <header class="ev-header-sty" data-current-area="{{ region_code }}">
    <div class="header-container">
      <div class="ev-left-column">
        <a href="/blogs/media/event-list"
          class="this-week"
          onclick="openAreaPopup(); return false;"
          id="area-switch">
          <span id="current-area-label">
            <img class="ev-cl-ic" src="https://cdn.shopify.com/s/files/1/0658/5332/5495/files/ev-mp-w-ic.png?v=1754321683" alt="ãƒªãƒ¼ãƒ•ãƒ©ã‚¤ãƒ™ãƒ³ãƒˆé–‹å‚¬ã‚¨ãƒªã‚¢ã‚¢ã‚¤ã‚³ãƒ³">{% if region_code == 'ALL' %}ALL{% else %}{{ region_name_jp }}{% endif %}
          </span>
        </a>
        <div class="tag-button-main" onclick="toggleMainTagDropdown()">
          <span><img class="ev-cl-ic" src="https://cdn.shopify.com/s/files/1/0658/5332/5495/files/ev-tg-ic.png?v=1754203242" alt="ãƒªãƒ¼ãƒ•ãƒ©ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚°çµã‚Šè¾¼ã¿ã‚¢ã‚¤ã‚³ãƒ³">ã‚¿ã‚°</span><span class="tag-dropdown-arrow"></span>
          <div id="main-tag-dropdown" class="tag-dropdown-main">
            <div class="tag-options-main" id="main-tag-options">èª­ã¿è¾¼ã¿ä¸­...</div>
          </div>
        </div>

<!-- ========== æœˆé¸æŠãƒœã‚¿ãƒ³ï¼ˆä¿®æ­£ç‰ˆï¼‰ ========== -->
<div class="month-button-main" onclick="toggleMonthDropdown()">
  <span>
    <img class="ev-cl-ic" 
         src="https://cdn.shopify.com/s/files/1/0658/5332/5495/files/ev-dy-ic.png?v=1754373243" 
         alt="æœˆé¸æŠ">
    <span id="current-month-label">
      {% if page_type == 'month' or page_type == 'day' %}
        {{ display_month_name }}
      {% else %}
        {{ 'now' | date: '%mæœˆ' }}
      {% endif %}
    </span>
  </span>
  <span class="month-dropdown-arrow"></span>
  <div id="month-dropdown" class="month-dropdown-main">
    <div class="month-options-main" id="month-options">
      èª­ã¿è¾¼ã¿ä¸­...
    </div>
  </div>
</div>
<!-- ========== æœˆé¸æŠãƒœã‚¿ãƒ³ï¼ˆã“ã“ã¾ã§ï¼‰ ========== -->
      </div>
      <div class="ev-right-column"><div class="date-scroll" id="date-scroll"></div></div>
    </div>
  </header>

  <!-- é¸æŠæ™‚ã®ã¿è¡¨ç¤ºã€‚PC ã¯å¸¸ã«å±•é–‹ã€SP ã¯ãƒˆã‚°ãƒ«ã§å±•é–‹ -->
  <div id="filter-status" class="filter-status">
    <div class="filter-status__row">
      <span id="filter-status-text">çµã‚Šè¾¼ã¿ä¸­ï¼š0ä»¶ã®ã‚¤ãƒ™ãƒ³ãƒˆè¡¨ç¤ºä¸­</span>
      <div class="filter-actions">
        <button id="accordion-toggle-icon" type="button" onclick="toggleMainAccordion()">â–¼</button>
        <button class="clear-all-tags-btn" type="button" onclick="clearAllMainTags()">ã‚¯ãƒªã‚¢</button>
      </div>
    </div>
    <div id="filter-expanded" class="expanded-tags"></div>
  </div>

  {% unless page_type == 'top' %}
  <nav class="breadcrumb">
    <a href="/blogs/media/event-list" class="breadcrumb-link">æ¤ç‰©ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ãƒˆãƒƒãƒ—</a>
    {% if region_code != 'ALL' %}
      <span class="breadcrumb-separator"> > </span>
      <a href="/blogs/media/event-{{ region_code | downcase }}-list" class="breadcrumb-link">{{ region_name_jp }}ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</a>
    {% endif %}
    {% if page_type == 'month' %}
      <span class="breadcrumb-separator"> > </span>
      <span class="breadcrumb-current">{{ display_year }}å¹´{{ display_month_name }}</span>
    {% elsif page_type == 'day' %}
      <span class="breadcrumb-separator"> > </span>
      {% if region_code == 'ALL' %}
        <a href="/blogs/media/event-list-{{ year_month }}" class="breadcrumb-link">{{ display_year }}å¹´{{ display_month_name }}</a>
      {% else %}
        <a href="/blogs/media/event-{{ region_code | downcase }}-list-{{ year_month }}" class="breadcrumb-link">{{ display_year }}å¹´{{ display_month_name }}</a>
      {% endif %}
      <span class="breadcrumb-separator"> > </span>
      {% assign display_day_clean = display_day | plus: 0 %}
      <span class="breadcrumb-current">{{ display_month_name }}{{ display_day_clean }}æ—¥</span>
    {% endif %}
  </nav>
  {% endunless %}

  <main class="events-main-content">
    {% if page_type == 'day' %}
      <div class="day-page-info">
        <div class="day-info-card">
          {% assign display_day_clean = display_day | plus: 0 %}
          <h2>ğŸ“… {{ region_name_jp }} {{ display_year }}å¹´{{ display_month_name }}{{ display_day_clean }}æ—¥ã®ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±</h2>
          <p>ã“ã®æ—¥ã«{{ region_name_jp }}ã§é–‹å‚¬ã•ã‚Œã‚‹æ¤ç‰©ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚</p>
        </div>
      </div>
    {% endif %}

    <div id="event-container" class="events-container"
      data-region="{{ region_code }}"
      {% if page_type == 'month' %}data-month="{{ year_month }}"{% endif %}
      {% if page_type == 'day' %}data-day="{{ year_month_day }}"{% endif %}>
      {{ article.content }}
    </div>
  </main>

<!-- æ—¢å­˜ã®</main>ã®å‰ã«ä»¥ä¸‹ã‚’æŒ¿å…¥ -->


      {% render 'recommended-events' %}


  <div class="featured-block">
    <div class="featured-header">
      <h3 class="featured-title">
        <img src="https://cdn.shopify.com/s/files/1/0658/5332/5495/files/ev-mp-ic.png?v=1754193318"
             alt="æ–°ç€"
             class="featured-icon"
             width="20"
             height="20">
        æœ€è¿‘è¿½åŠ ã•ã‚ŒãŸæ¤ç‰©ã‚¤ãƒ™ãƒ³ãƒˆ
        <span class="featured-badge">æ–°ç€æƒ…å ±</span>
      </h3>
    </div>

    <div class="featured-content">
      {% comment %} ä½œæˆæ—¥æ™‚ã§ã‚½ãƒ¼ãƒˆï¼ˆæ–°ã—ã„é †ï¼‰ {% endcomment %}
      {% assign recent_events = blogs['media'].articles
          | sort: 'created_at'
          | reverse %}

      {% if recent_events.size > 0 %}
        <div class="featured-grid">
          {% for article in recent_events limit: 6 %}
            <a href="{{ article.url }}" class="featured-card">
              <div class="featured-card-inner">
                {% if article.image %}
                  <div class="featured-image"
                       style="background-image: url('{{ article.image | img_url: '500x400', crop: 'center' }}')">
                    <span class="new-badge">NEW</span>
                  </div>
                {% else %}
                  <div class="featured-image-placeholder">
                    <span class="placeholder-icon">ğŸ“‹</span>
                  </div>
                {% endif %}

                <div class="featured-info">
                  <div class="featured-date">
                    <img src="https://cdn.shopify.com/s/files/1/0658/5332/5495/files/ev-cl-ic.png?v=1754373243"
                         alt="è¿½åŠ æ—¥"
                         class="date-icon"
                         width="14"
                         height="14">
                    {{ article.created_at | date: '%mæœˆ%dæ—¥è¿½åŠ ' }}
                  </div>
                  <h4 class="featured-event-title">{{ article.title }}</h4>
                  {% if article.excerpt %}
                    <p class="featured-excerpt">{{ article.excerpt | strip_html | truncate: 60 }}</p>
                  {% endif %}
                </div>
              </div>
            </a>
          {% endfor %}
        </div>

        {% if recent_events.size > 6 %}
          <p class="featured-more">ä»– {{ recent_events.size | minus: 6 }}ä»¶ã®æ–°ç€ã‚¤ãƒ™ãƒ³ãƒˆ</p>
        {% endif %}

      {% else %}
        <div class="featured-empty">
          <div class="empty-icon">ğŸ“…</div>
          <p class="empty-text">æ–°ç€ã‚¤ãƒ™ãƒ³ãƒˆã¯æº–å‚™ä¸­ã§ã™</p>
        </div>
      {% endif %}
    </div>
  </div>
























<style>
/* ========================================
   é–¢é€£
   ======================================== */
.featured-events-section {
  margin: 60px 0 40px;
  padding: 0 20px;
}

.featured-block {
  margin-bottom: 50px;
  background: #fff;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 12px rgba(0,0,0,0.06);
}

.featured-header {
  padding: 24px 28px;
  background: linear-gradient(135deg, #f8f9fa 0%, #fff 100%);
  border-bottom: 2px solid #e8e8e8;
}

.featured-title {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 0;
  font-size: 20px;
  font-weight: 700;
  color: #2c3e50;
  line-height: 1.4;
}

.featured-icon {
  flex-shrink: 0;
}

.featured-badge {
  margin-left: auto;
  padding: 4px 12px;
  background: #667eea;
  color: #fff;
  font-size: 11px;
  font-weight: 600;
  border-radius: 20px;
  letter-spacing: 0.5px;
}

.featured-content {
  padding: 28px;
}

.featured-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 24px;
}

.featured-card {
  display: block;
  text-decoration: none;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  border-radius: 10px;
  overflow: hidden;
  background: #fff;
  border: 1px solid #e8e8e8;
}

.featured-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 24px rgba(102, 126, 234, 0.15);
}

.featured-card-inner {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.featured-image {
  width: 100%;
  height: 200px;
  background-size: cover;
  background-position: center;
  position: relative;
}

.new-badge {
  position: absolute;
  top: 12px;
  right: 12px;
  padding: 6px 12px;
  background: #ff4757;
  color: #fff;
  font-size: 11px;
  font-weight: 700;
  border-radius: 4px;
  letter-spacing: 0.5px;
}

.featured-image-placeholder {
  width: 100%;
  height: 200px;
  background: linear-gradient(135deg, #e8e8e8 0%, #f5f5f5 100%);
  display: flex;
  align-items: center;
  justify-content: center;
}

.placeholder-icon {
  font-size: 64px;
  opacity: 0.6;
}

.featured-info {
  padding: 18px;
  flex: 1;
  display: flex;
  flex-direction: column;
}

.featured-date {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-bottom: 10px;
  font-size: 12px;
  color: #7f8c8d;
  font-weight: 500;
}

.date-icon {
  flex-shrink: 0;
}

.featured-event-title {
  margin: 0 0 8px;
  font-size: 16px;
  font-weight: 700;
  line-height: 1.5;
  color: #2c3e50;
  
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.featured-excerpt {
  margin: 0;
  font-size: 13px;
  line-height: 1.6;
  color: #7f8c8d;
  
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.featured-more {
  margin-top: 20px;
  text-align: center;
  font-size: 14px;
  color: #7f8c8d;
  font-weight: 500;
}

.featured-empty {
  padding: 80px 30px;
  text-align: center;
}

.empty-icon {
  font-size: 64px;
  margin-bottom: 16px;
  opacity: 0.6;
}

.empty-text {
  margin: 0 0 8px;
  font-size: 16px;
  font-weight: 600;
  color: #7f8c8d;
}

.empty-sub {
  margin: 0;
  font-size: 13px;
  color: #95a5a6;
}

/* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ */
@media (max-width: 1024px) {
  .featured-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
  }
}

/* ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ */
@media (max-width: 768px) {
  .featured-events-section {
    margin: 40px 0 30px;
    padding: 0 16px;
  }
  
  .featured-block {
    margin-bottom: 40px;
  }
  
  .featured-header {
    padding: 20px;
  }
  
  .featured-title {
    font-size: 17px;
  }
  
  .featured-badge {
    font-size: 10px;
    padding: 3px 10px;
  }
  
  .featured-content {
    padding: 20px;
  }
  
  .featured-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
  
  .featured-image,
  .featured-image-placeholder {
    height: 180px;
  }
  
  .featured-info {
    padding: 14px;
  }
  
  .featured-event-title {
    font-size: 15px;
  }
  
  .featured-excerpt {
    font-size: 12px;
  }
  
  .featured-empty {
    padding: 60px 20px;
  }
}

/* ========================================
   ev-left-column ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£ï¼ˆé‡è¦åº¦ã‚’ä¸Šã’ã‚‹ï¼‰
   ======================================== */

.ev-left-column {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  gap: 0px !important;
/*  width: auto !important;*/
  width: 180px !important;
  flex-wrap: wrap !important;
}

/* this-weekï¼ˆåœ°åŸŸé¸æŠï¼‰ã¯æ—¢å­˜ã®ã¾ã¾ */
.this-week {
  /* æ—¢å­˜ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç¶­æŒ */
}

/* ã‚¿ã‚°ãƒœã‚¿ãƒ³ã¨æœˆãƒœã‚¿ãƒ³ã‚’æ¨ªä¸¦ã³ */
.tag-button-main,
.month-button-main {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 10px 4px;
  background: #fff;
  border-radius: 4px;
  box-sizing: border-box;
  font-size: 14px;
  font-weight: 600;
  color: #333;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  flex-shrink: 0; /* ç¸®ã¾ãªã„ã‚ˆã†ã«ã™ã‚‹ */
  width: 46%;

    border-radius: 8px;
    border: 2px solid #222;
}

.tag-button-margin {
  width: 44%!important;
}
.month-button-main {
  width: 46%;
  margin-left: 2px;
}


.tag-button-main:hover,
.month-button-main:hover {
  background: #f8f9fa;
  border-color: #667eea;
}

.tag-button-main span,
.month-button-main span {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
}
.month-button-main {
    padding-left: 12px;
}
.tag-button-main {
    margin-left: 3px;
}

#current-month-label {
  font-size: 12px;
  min-width: 24px;
  text-align: center;
}

/* ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³çŸ¢å° */
.tag-dropdown-arrow,
.month-dropdown-arrow {
  display: inline-block;
  margin-left: 4px;
  position: relative;
  width: 0;
  height: 0;
}

.tag-dropdown-arrow::before,
.month-dropdown-arrow::before {
  content: '';
  position: absolute;
  top: -3px;
  left: -5px;
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 6px solid #666;
  transition: transform 0.2s ease;
}

.tag-button-main.active .tag-dropdown-arrow::before,
.month-button-main.active .month-dropdown-arrow::before {
  transform: rotate(180deg);
}

/* ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³æœ¬ä½“ */
.tag-dropdown-main,
.month-dropdown-main {
  display: none;
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  background: #fff;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  min-width: 160px;
  max-width: 200px;
  z-index: 1000;
  animation: slideDown 0.2s ease;
}

.tag-dropdown-main.show,
.month-dropdown-main.show {
  display: block;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* æœˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒªã‚¹ãƒˆ */
.month-options-main {
  max-height: 320px;
  overflow-y: auto;
  padding: 8px 0;
}

.month-option {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 16px;
  text-decoration: none;
  color: #333;
  font-size: 13px;
  transition: all 0.2s ease;
  cursor: pointer;
}

.month-option:hover {
  background: #f8f9fa;
}

.month-option.active {
  background: #667eea;
  color: #fff;
  font-weight: 600;
}

.month-option-label {
  flex: 1;
}

.month-option-arrow {
  font-size: 12px;
  color: #999;
  margin-left: 8px;
}

.month-option:hover .month-option-arrow {
  color: #667eea;
}

.month-option.active .month-option-arrow {
  display: none;
}

/* ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å¯¾å¿œ */
@media (max-width:768px) {
  .ev-left-column {
    width: 160px !important;
    flex-wrap: wrap !important;
  }
  
  .tag-button-main,
  .month-button-main {
    padding: 10px 12px;
    font-size: 12px;
  }
  
  #current-month-label {
    font-size: 12px;
    min-width: 25px;
  }
  
  .month-dropdown-main {
    left: auto;
    right: 0;
    min-width: 140px;
  }
  
  .tag-dropdown-arrow::before,
  .month-dropdown-arrow::before {
    border-left-width: 4px;
    border-right-width: 4px;
    border-top-width: 5px;
  }
  
  .month-option {
    padding: 8px 12px;
    font-size: 12px;
  }
}





/*
 æ—¥åˆ¥è©³ç´°
===================*/
.day-view .event-list {
  display: grid !important;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); /* 1ï½4åˆ—å¯å¤‰ */
  gap: 16px;
  overflow: visible !important;
  white-space: normal !important;
  scroll-snap-type: none !important;
  padding-bottom: 0 !important;
}

/* ã‚«ãƒ¼ãƒ‰å¹…ã‚’ã‚°ãƒªãƒƒãƒ‰ã«åˆã‚ã›ã‚‹ï¼ˆæ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç”¨ã®å›ºå®šå¹…ã‚’è§£é™¤ï¼‰ */
.day-view .event-card {
  width: auto !important;
  flex: 0 0 auto; /* gridã§ã‚‚å®³ãªã—ã€æ¨ªã‚¹ã‚¯ç”¨ã®å‰¯ä½œç”¨å›é¿ */
}

/* ç”»åƒã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã®å®‰å®šåŒ–ï¼ˆå¿…è¦ãªã‚‰ï¼‰ */
.day-view .event-card .event-image {
  aspect-ratio: 16 / 9;
  background-size: cover;
  background-position: center;
}

/* ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆå¾®èª¿æ•´ï¼ˆä»»æ„ï¼‰ */
@media (min-width: 640px) {
  .day-view .event-list { gap: 20px; }
}
@media (min-width: 1024px) {
  .day-view .event-list { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}
@media (min-width: 1280px) {
  .day-view .event-list { grid-template-columns: repeat(4, minmax(0, 1fr)); }
}




</style>


<!-- åœ°åŸŸãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— -->
<div id="area-popup" class="area-popup">
  <div class="popup-overlay"></div>
  <div class="popup-content">
    <div id="main-menu" class="menu-screen">
      <div class="popup-header">
        <h3 class="popup-title">
          <img src="https://cdn.shopify.com/s/files/1/0658/5332/5495/files/ev-mp-ic.png?v=1754193318" alt="ãƒªãƒ¼ãƒ•ãƒ©ã‚¤ãƒ™ãƒ³ãƒˆé–‹å‚¬ã‚¨ãƒªã‚¢ã‚¢ã‚¤ã‚³ãƒ³">
          ã‚¨ãƒªã‚¢ã‚’é¸æŠ
        </h3>
        <button onclick="closeAreaPopup()" class="popup-close">Ã—</button>
      </div>
      
      <div class="popular-section">
        <h4 class="section-title">âœ¦ äººæ°—ã‚¨ãƒªã‚¢</h4>
        <div class="popular-options">
          <a href="/blogs/media/event-list" class="popular-option all-option">
            <span class="area-code">ALL</span>
            <span class="area-name">å…¨å›½</span>
          </a>
          <a href="/blogs/media/event-tokyo-list" class="popular-option">
            <span class="area-code">TOKYO</span>
            <span class="area-name">æ±äº¬éƒ½</span>
          </a>
          <a href="/blogs/media/event-osaka-list" class="popular-option">
            <span class="area-code">OSAKA</span>
            <span class="area-name">å¤§é˜ªåºœ</span>
          </a>
          <a href="/blogs/media/event-kyoto-list" class="popular-option">
            <span class="area-code">KYOTO</span>
            <span class="area-name">äº¬éƒ½åºœ</span>
          </a>
          <a href="/blogs/media/event-aichi-list" class="popular-option">
            <span class="area-code">NAGOYA</span>
            <span class="area-name">æ„›çŸ¥çœŒåå¤å±‹å¸‚</span>
          </a>
          <a href="/blogs/media/event-fukuoka-list" class="popular-option">
            <span class="area-code">FUKUOKA</span>
            <span class="area-name">ç¦å²¡çœŒ</span>
          </a>
        </div>
      </div>
      
      <div class="select-section">
        <h4 class="section-title">âœ¦ å…¨åœ°åŸŸ</h4>
        <div class="region-options">
          <button onclick="showRegionDetail('hokkaido')" class="region-option">
            <span class="area-code">Hokkaido</span>
            <span class="area-name">åŒ—æµ·é“</span>
          </button>
          <button onclick="showRegionDetail('tohoku')" class="region-option">
            <span class="area-code">Tohoku</span>
            <span class="area-name">æ±åŒ—åœ°æ–¹</span>
          </button>
          <button onclick="showRegionDetail('kanto')" class="region-option">
            <span class="area-code">Kanto</span>
            <span class="area-name">é–¢æ±åœ°æ–¹</span>
          </button>
          <button onclick="showRegionDetail('chubu')" class="region-option">
            <span class="area-code">Chubu</span>
            <span class="area-name">ä¸­éƒ¨åœ°æ–¹</span>
          </button>
          <button onclick="showRegionDetail('kansai')" class="region-option">
            <span class="area-code">Kansai</span>
            <span class="area-name">é–¢è¥¿åœ°æ–¹</span>
          </button>
          <button onclick="showRegionDetail('shikoku')" class="region-option">
            <span class="area-code">Shikoku</span>
            <span class="area-name">å››å›½åœ°æ–¹</span>
          </button>
          <button onclick="showRegionDetail('chugoku')" class="region-option">
            <span class="area-code">Chugoku</span>
            <span class="area-name">ä¸­å›½åœ°æ–¹</span>
          </button>
          <button onclick="showRegionDetail('kyushu')" class="region-option">
            <span class="area-code">Kyushu</span>
            <span class="area-name">ä¹å·åœ°æ–¹</span>
          </button>
          <button onclick="showRegionDetail('okinawa')" class="region-option">
            <span class="area-code">Okinawa</span>
            <span class="area-name">æ²–ç¸„çœŒ</span>
          </button>
        </div>
      </div>
    </div>
    
    <div id="detail-menu" class="menu-screen" style="display:none;">
      <button onclick="showMainMenu()" class="back-button">â† Back to menu</button>
      <button onclick="closeAreaPopup()" class="popup-close">Ã—</button>
      <h3 id="detail-title" class="detail-title">HOKKAIDO</h3>
      <a id="all-region-link" href="#" class="all-region-option">ALL HOKKAIDO</a>
      <div id="detail-options" class="detail-options"></div>
    </div>
  </div>
</div>

<script>
/* åœ°åŸŸãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ï¼ˆæ—¥æœ¬èªå¯¾å¿œç‰ˆãƒ»å…¨åœ°åŸŸå®Œå…¨å¯¾å¿œï¼‰ */
const regionData={
  hokkaido:{
    title:"HOKKAIDO",
    titleJp:"åŒ—æµ·é“",
    allLink:"/blogs/media/event-hokkaido-list",
    areas:[
      {name:"é“å¤®",nameEn:"DOUO",link:"/blogs/media/event-douo-list"},
      {name:"åå‹",nameEn:"TOKACHI",link:"/blogs/media/event-tokachi-list"},
      {name:"é“å—",nameEn:"DONAN",link:"/blogs/media/event-donan-list"},
      {name:"ã‚ªãƒ›ãƒ¼ãƒ„ã‚¯",nameEn:"OKHOTSK",link:"/blogs/media/event-okhotsk-list"},
      {name:"é“åŒ—",nameEn:"DOHOKU",link:"/blogs/media/event-dohoku-list"},
      {name:"é‡§è·¯ãƒ»æ ¹å®¤",nameEn:"KUSHIRO/NEMURO",link:"/blogs/media/event-kushiro-list"}
    ]
  },
  tohoku:{
    title:"TOHOKU",
    titleJp:"æ±åŒ—åœ°æ–¹",
    allLink:"/blogs/media/event-tohoku-list",
    areas:[
      {name:"é’æ£®çœŒ",nameEn:"AOMORI",link:"/blogs/media/event-aomori-list"},
      {name:"å²©æ‰‹çœŒ",nameEn:"IWATE",link:"/blogs/media/event-iwate-list"},
      {name:"å®®åŸçœŒ",nameEn:"MIYAGI",link:"/blogs/media/event-miyagi-list"},
      {name:"ç§‹ç”°çœŒ",nameEn:"AKITA",link:"/blogs/media/event-akita-list"},
      {name:"å±±å½¢çœŒ",nameEn:"YAMAGATA",link:"/blogs/media/event-yamagata-list"},
      {name:"ç¦å³¶çœŒ",nameEn:"FUKUSHIMA",link:"/blogs/media/event-fukushima-list"}
    ]
  },
  kanto:{
    title:"KANTO",
    titleJp:"é–¢æ±åœ°æ–¹",
    allLink:"/blogs/media/event-kanto-list",
    areas:[
      {name:"æ±äº¬éƒ½",nameEn:"TOKYO",link:"/blogs/media/event-tokyo-list"},
      {name:"ç¥å¥ˆå·çœŒ",nameEn:"KANAGAWA",link:"/blogs/media/event-kanagawa-list"},
      {name:"åƒè‘‰çœŒ",nameEn:"CHIBA",link:"/blogs/media/event-chiba-list"},
      {name:"åŸ¼ç‰çœŒ",nameEn:"SAITAMA",link:"/blogs/media/event-saitama-list"},
      {name:"èŒ¨åŸçœŒ",nameEn:"IBARAKI",link:"/blogs/media/event-ibaraki-list"},
      {name:"æ ƒæœ¨çœŒ",nameEn:"TOCHIGI",link:"/blogs/media/event-tochigi-list"},
      {name:"ç¾¤é¦¬çœŒ",nameEn:"GUNMA",link:"/blogs/media/event-gunma-list"}
    ]
  },
  chubu:{
    title:"CHUBU",
    titleJp:"ä¸­éƒ¨åœ°æ–¹",
    allLink:"/blogs/media/event-chubu-list",
    areas:[
      {name:"æ„›çŸ¥çœŒ",nameEn:"AICHI",link:"/blogs/media/event-aichi-list"},
      {name:"é™å²¡çœŒ",nameEn:"SHIZUOKA",link:"/blogs/media/event-shizuoka-list"},
      {name:"å²é˜œçœŒ",nameEn:"GIFU",link:"/blogs/media/event-gifu-list"},
      {name:"é•·é‡çœŒ",nameEn:"NAGANO",link:"/blogs/media/event-nagano-list"},
      {name:"å±±æ¢¨çœŒ",nameEn:"YAMANASHI",link:"/blogs/media/event-yamanashi-list"},
      {name:"æ–°æ½ŸçœŒ",nameEn:"NIIGATA",link:"/blogs/media/event-niigata-list"},
      {name:"å¯Œå±±çœŒ",nameEn:"TOYAMA",link:"/blogs/media/event-toyama-list"},
      {name:"çŸ³å·çœŒ",nameEn:"ISHIKAWA",link:"/blogs/media/event-ishikawa-list"},
      {name:"ç¦äº•çœŒ",nameEn:"FUKUI",link:"/blogs/media/event-fukui-list"}
    ]
  },
  kansai:{
    title:"KANSAI",
    titleJp:"é–¢è¥¿åœ°æ–¹",
    allLink:"/blogs/media/event-kansai-list",
    areas:[
      {name:"å¤§é˜ªåºœ",nameEn:"OSAKA",link:"/blogs/media/event-osaka-list"},
      {name:"äº¬éƒ½åºœ",nameEn:"KYOTO",link:"/blogs/media/event-kyoto-list"},
      {name:"å…µåº«çœŒ",nameEn:"HYOGO",link:"/blogs/media/event-hyogo-list"},
      {name:"å¥ˆè‰¯çœŒ",nameEn:"NARA",link:"/blogs/media/event-nara-list"},
      {name:"æ»‹è³€çœŒ",nameEn:"SHIGA",link:"/blogs/media/event-shiga-list"},
      {name:"å’Œæ­Œå±±çœŒ",nameEn:"WAKAYAMA",link:"/blogs/media/event-wakayama-list"}
    ]
  },
  shikoku:{
    title:"SHIKOKU",
    titleJp:"å››å›½åœ°æ–¹",
    allLink:"/blogs/media/event-shikoku-list",
    areas:[
      {name:"å¾³å³¶çœŒ",nameEn:"TOKUSHIMA",link:"/blogs/media/event-tokushima-list"},
      {name:"é¦™å·çœŒ",nameEn:"KAGAWA",link:"/blogs/media/event-kagawa-list"},
      {name:"æ„›åª›çœŒ",nameEn:"EHIME",link:"/blogs/media/event-ehime-list"},
      {name:"é«˜çŸ¥çœŒ",nameEn:"KOCHI",link:"/blogs/media/event-kochi-list"}
    ]
  },
  chugoku:{
    title:"CHUGOKU",
    titleJp:"ä¸­å›½åœ°æ–¹",
    allLink:"/blogs/media/event-chugoku-list",
    areas:[
      {name:"åºƒå³¶çœŒ",nameEn:"HIROSHIMA",link:"/blogs/media/event-hiroshima-list"},
      {name:"å²¡å±±çœŒ",nameEn:"OKAYAMA",link:"/blogs/media/event-okayama-list"},
      {name:"å±±å£çœŒ",nameEn:"YAMAGUCHI",link:"/blogs/media/event-yamaguchi-list"},
      {name:"å³¶æ ¹çœŒ",nameEn:"SHIMANE",link:"/blogs/media/event-shimane-list"},
      {name:"é³¥å–çœŒ",nameEn:"TOTTORI",link:"/blogs/media/event-tottori-list"}
    ]
  },
  kyushu:{
    title:"KYUSHU",
    titleJp:"ä¹å·åœ°æ–¹",
    allLink:"/blogs/media/event-kyushu-list",
    areas:[
      {name:"ç¦å²¡çœŒ",nameEn:"FUKUOKA",link:"/blogs/media/event-fukuoka-list"},
      {name:"ä½è³€çœŒ",nameEn:"SAGA",link:"/blogs/media/event-saga-list"},
      {name:"é•·å´çœŒ",nameEn:"NAGASAKI",link:"/blogs/media/event-nagasaki-list"},
      {name:"ç†Šæœ¬çœŒ",nameEn:"KUMAMOTO",link:"/blogs/media/event-kumamoto-list"},
      {name:"å¤§åˆ†çœŒ",nameEn:"OITA",link:"/blogs/media/event-oita-list"},
      {name:"å®®å´çœŒ",nameEn:"MIYAZAKI",link:"/blogs/media/event-miyazaki-list"},
      {name:"é¹¿å…å³¶çœŒ",nameEn:"KAGOSHIMA",link:"/blogs/media/event-kagoshima-list"}
    ]
  },
  okinawa:{
    title:"OKINAWA",
    titleJp:"æ²–ç¸„çœŒ",
    allLink:"/blogs/media/event-okinawa-list",
    areas:[
      {name:"é‚£è¦‡å¸‚",nameEn:"NAHA",link:"/blogs/media/event-naha-list"},
      {name:"æ²–ç¸„æœ¬å³¶",nameEn:"OKINAWA MAIN",link:"/blogs/media/event-okinawa-main-list"},
      {name:"çŸ³å£å³¶",nameEn:"ISHIGAKI",link:"/blogs/media/event-ishigaki-list"}
    ]
  }
};

function openAreaPopup(){document.getElementById("area-popup").style.display="flex";showMainMenu()}
function closeAreaPopup(){document.getElementById("area-popup").style.display="none"}
function showMainMenu(){document.getElementById("main-menu").style.display="block";document.getElementById("detail-menu").style.display="none"}

function showRegionDetail(k){
  const r=regionData[k];
  if(!r)return;
  
  // ã‚¿ã‚¤ãƒˆãƒ«ã‚’æ—¥æœ¬èªã§è¡¨ç¤º
  document.getElementById("detail-title").textContent=r.titleJp;
  
  // ALLåœ°åŸŸãƒªãƒ³ã‚¯ã‚’æ—¥æœ¬èªã§è¡¨ç¤º
  const l=document.getElementById("all-region-link");
  l.href=r.allLink;
  l.textContent=r.titleJp+"å…¨åŸŸ";
  
  // è©³ç´°ã‚¨ãƒªã‚¢ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ—¥æœ¬èªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§è¡¨ç¤º
  const b=document.getElementById("detail-options");
  b.innerHTML=r.areas.map(a=>
    '<a href="'+a.link+'" class="detail-area-option">'+
    '<span class="area-name">'+a.name+'</span>'+
    '<span class="area-code">'+a.nameEn+'</span>'+
    '</a>'
  ).join("");
  
  document.getElementById("main-menu").style.display="none";
  document.getElementById("detail-menu").style.display="block";
}

document.addEventListener("click",e=>{const p=document.getElementById("area-popup");if(e.target===p||e.target.classList.contains("popup-overlay"))closeAreaPopup()})

/* ===== ä¿®æ­£ç‰ˆï¼šãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³åˆ¶å¾¡ï¼ˆCSSçŸ¢å°å¯¾å¿œï¼‰ ===== */
window.toggleMainTagDropdown = function() {
  const dd = document.getElementById('main-tag-dropdown');
  const button = document.querySelector('.tag-button-main');
  
  if (!dd || !button) return;
  
  const isOpen = dd.style.display === 'block';
  
  if (isOpen) {
    dd.style.display = 'none';
    button.classList.remove('dropdown-open');
    button.classList.remove('active');
  } else {
    dd.style.display = 'block';
    button.classList.add('dropdown-open');
    button.classList.add('active');
  }
  
  console.log('ğŸ”½ ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³çŠ¶æ…‹:', isOpen ? 'é–‰ã˜ãŸ' : 'é–‹ã„ãŸ');
};

/* å¤–å´ã‚¯ãƒªãƒƒã‚¯ã§ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’é–‰ã˜ã‚‹ï¼ˆä¿®æ­£ç‰ˆï¼‰ */
document.addEventListener('click', e => {
  if (!e.target.closest('.tag-button-main')) {
    const dd = document.getElementById('main-tag-dropdown');
    const button = document.querySelector('.tag-button-main');
    
    if (dd && dd.style.display === 'block') {
      dd.style.display = 'none';
      if (button) {
        button.classList.remove('dropdown-open');
        button.classList.remove('active');
      }
    }
  }
});
</script>

{{ 'events-list.js' | asset_url | script_tag }}

<!--<script>
// ã‚¹ãƒãƒ›è»½é‡åŒ–è¨­å®š
if (window.matchMedia('(max-width: 768px)').matches) {
  console.log('ğŸ“± ã‚¹ãƒãƒ›æ¤œå‡º: è»½é‡åŒ–ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹');
  
  // é–“è¿‘ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç„¡åŠ¹åŒ–
  window.DISABLE_UPCOMING_EVENTS = true;
  
  // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«åŒæœŸã®é »åº¦ã‚’ä¸‹ã’ã‚‹
  window.SCROLL_SYNC_THROTTLE = 500; // 500ms
}
</script>-->
<script>
// ã‚¹ãƒãƒ›è»½é‡åŒ–è¨­å®š
if (window.matchMedia('(max-width: 768px)').matches) {
  console.log('ğŸ“± ã‚¹ãƒãƒ›æ¤œå‡º: è»½é‡åŒ–ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹');
  
  // é–“è¿‘ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç„¡åŠ¹åŒ–
  window.DISABLE_UPCOMING_EVENTS = false;
  
  // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«åŒæœŸã®é »åº¦ã‚’ä¸‹ã’ã‚‹
  window.SCROLL_SYNC_THROTTLE = 500; // 500ms
}
</script>


<script>
/* ================================================================
   ã‚¿ã‚°çµã‚Šè¾¼ã¿ï¼ˆPC=å¸¸æ™‚å±•é–‹ / SP=ãƒˆã‚°ãƒ«ï¼‰
   ================================================================ */
(()=>{"use strict";
const LABELS={_saleevent:"å³å£²ä¼šãƒ»è²©å£²ä¼š",_succulent:"å¤šè‚‰æ¤ç‰©ãƒ»ã‚¢ã‚¬ãƒ™",_popup:"ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—",_exhibition:"å±•ç¤ºä¼š",_workshop:"ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—",_bonsai:"ç›†æ ½"};
let selected=[], isExpanded=false, total=0, desktop=window.matchMedia("(min-width:1024px)");

/* åˆæœŸåŒ–ï¼ˆevents-list.js ã®æç”»å¾…ã¡ï¼‰ */
const MAX=20;let t=0;(function wait(){const cards=document.querySelectorAll('a.event-card[data-slug]');if(!cards.length&&t<MAX){t++;return setTimeout(wait,300)}init()})();

function init(){
  const cards=document.querySelectorAll('a.event-card[data-slug]'); total=cards.length;
  cards.forEach(c=>{const el=c.querySelector('.event-title'); if(!el) return; c.dataset.tags=detect(el.textContent.trim()).join(',')});
  buildOptions(); // PC ã¯å¸¸æ™‚å±•é–‹
  syncResponsive(true);
  renderStatus(countFiltered());
}

/* ç”»é¢å¹…ã«å¿œã˜ã¦æŒ™å‹•åˆ‡æ›¿ */
desktop.addEventListener("change",()=>syncResponsive(false));
function syncResponsive(force){
  if(desktop.matches){ // PC
    isExpanded=true;
    document.getElementById("filter-expanded").style.display="flex";
    document.getElementById("accordion-toggle-icon").style.display="none";
  }else{ // SP
    document.getElementById("accordion-toggle-icon").style.display="inline-block";
    if(force){isExpanded=false;}
    document.getElementById("filter-expanded").style.display=isExpanded&&selected.length?"flex":"none";
  }
  renderExpanded();
}

/* ã‚¿ã‚°æ¤œå‡ºï¼ˆã‚¿ã‚¤ãƒˆãƒ«â†’æ“¬ä¼¼ã‚¿ã‚°ï¼‰ */
function detect(title){
  const map={'ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—':'_workshop','è¬›ç¿’':'_workshop','ä½“é¨“':'_workshop','å³å£²':'_saleevent','è²©å£²':'_saleevent','ãƒãƒ«ã‚·ã‚§':'_saleevent','å£²ä¼š':'_saleevent','å¤šè‚‰':'_succulent','ã‚¢ã‚¬ãƒ™':'_succulent','ã‚µãƒœãƒ†ãƒ³':'_succulent','ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—':'_popup','æœŸé–“é™å®š':'_popup','å±•ç¤º':'_exhibition','ä¼ç”»å±•':'_exhibition','ç›†æ ½':'_bonsai'};
  const out=[]; for(const [k,v] of Object.entries(map)){ if(title.includes(k)) out.push(v); } return out;
}

/* ã‚¿ã‚°å€™è£œã®æç”» */
function buildOptions(){
  const box=document.getElementById("main-tag-options"); if(!box) return;
  const all=[]; document.querySelectorAll('a.event-card[data-tags]').forEach(c=>{const t=(c.dataset.tags||'').split(',').filter(Boolean); all.push(...t)});
  const cnt={}; all.forEach(t=>cnt[t]=(cnt[t]||0)+1);
  if(!Object.keys(cnt).length){['_workshop','_saleevent','_exhibition','_succulent'].forEach(t=>cnt[t]=Math.floor(Math.random()*20)+5)}
  const sorted=Object.keys(cnt).sort((a,b)=>cnt[b]-cnt[a]).slice(0,8);
  box.innerHTML=sorted.map(tag=>`
    <label class="tag-option-main">
      <input type="checkbox" value="${tag}" onchange="handleTag('${tag}')">
      <span class="tag-option-label"><span class="tag-name">${LABELS[tag]||tag.replace(/^_/,'')}</span><span class="tag-count">${cnt[tag]}</span></span>
    </label>`).join('');
}

/* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡Œï¼šä»¶æ•°è¡¨ç¤ºï¼‹è¡¨ç¤º/éè¡¨ç¤ºåˆ¶å¾¡ */
function renderStatus(n){
  const bar=document.getElementById("filter-status"), text=document.getElementById("filter-status-text");
  if(!bar||!text) return;
  if(!selected.length){ bar.style.display="none"; return; }
  text.textContent=`çµã‚Šè¾¼ã¿ä¸­ï¼š${n}ä»¶ã®ã‚¤ãƒ™ãƒ³ãƒˆè¡¨ç¤ºä¸­`;
  bar.style.display="block";
}

/* é¸æŠã‚¿ã‚°ä¸€è¦§ï¼ˆPCã¯å¸¸æ™‚ã€SPã¯ãƒˆã‚°ãƒ«æ™‚ï¼‰ */
function renderExpanded(){
  const wrap=document.getElementById("filter-expanded"); if(!wrap) return;
  if(!selected.length){ wrap.innerHTML=""; wrap.style.display="none"; return; }
  wrap.innerHTML=selected.map(tag=>{
    const name=LABELS[tag]||tag.replace(/^_/,''); const c=countFor(tag);
    return `<span class="selected-tag">${name}<span class="badge-count">${c}</span><button class="tag-remove-btn" onclick="removeTag('${tag}')">Ã—</button></span>`;
  }).join('');
  if(desktop.matches){ wrap.style.display="flex"; }
}

/* ========== ãƒ•ã‚£ãƒ«ã‚¿é©ç”¨ ========== */
function handleTag(tag){
  const cb=document.querySelector(`input[value="${tag}"]`);
  if(cb&&cb.checked){ if(!selected.includes(tag)) selected.push(tag); }
  else{ selected=selected.filter(t=>t!==tag); }
  apply(); 
}
function removeTag(tag){
  selected=selected.filter(t=>t!==tag);
  const cb=document.querySelector(`input[value='${tag}']`); if(cb) cb.checked=false;
  apply();
}
function clearAll(){
  selected=[]; document.querySelectorAll('#main-tag-options input[type="checkbox"]').forEach(cb=>cb.checked=false);
  apply();
}
function apply(){
  const cards=document.querySelectorAll('a.event-card[data-slug]'); const secs=document.querySelectorAll('.event-section');
  if(!selected.length){
    cards.forEach(c=>(c.closest('a')||c).style.display='block');
    secs.forEach(s=>s.style.display='block');
    renderExpanded(); renderStatus(0); return;
  }
  let visible=0;
  cards.forEach(c=>{const tags=(c.dataset.tags||'').split(',').filter(Boolean);const ok=selected.some(t=>tags.includes(t));(c.closest('a')||c).style.display=ok?'block':'none'; if(ok) visible++;});
  secs.forEach(s=>{const v=s.querySelectorAll('a.event-card:not([style*="none"])'); s.style.display=v.length?'block':'none';});
  renderExpanded(); renderStatus(visible);
}

/* å°é“å…· */
function countFor(tag){let n=0; document.querySelectorAll('a.event-card[data-tags]').forEach(c=>{const ts=(c.dataset.tags||'').split(',').filter(Boolean); if(ts.includes(tag)) n++;}); return n;}
function countFiltered(){if(!selected.length) return 0; let n=0; document.querySelectorAll('a.event-card[data-tags]').forEach(c=>{const ts=(c.dataset.tags||'').split(',').filter(Boolean); if(selected.some(t=>ts.includes(t))) n++;}); return n;}
function toggleAccordion(){isExpanded=!isExpanded; syncResponsive(false);}

/* ã‚°ãƒ­ãƒ¼ãƒãƒ«å…¬é–‹ï¼ˆHTMLãƒãƒ³ãƒ‰ãƒ©ç”¨ï¼‰ */
window.handleTag=handleTag;
window.removeTag=removeTag;
window.clearAllMainTags=clearAll;
window.toggleMainAccordion=toggleAccordion;
})();
</script>

{% render 'region' %}


<script>
/* ========================================
   æœˆé¸æŠæ©Ÿèƒ½ï¼ˆdate-scrollã‹ã‚‰æœˆã‚’å–å¾—ï¼‰
   ======================================== */

// æœˆãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®é–‹é–‰
function toggleMonthDropdown() {
  const dropdown = document.getElementById('month-dropdown');
  const button = document.querySelector('.month-button-main');
  
  if (!dropdown || !button) return;
  
  const isVisible = dropdown.classList.contains('show');
  
  if (isVisible) {
    dropdown.classList.remove('show');
    button.classList.remove('active');
  } else {
    // ä»–ã®ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’é–‰ã˜ã‚‹
    const tagDropdown = document.getElementById('main-tag-dropdown');
    if (tagDropdown) tagDropdown.style.display = 'none';
    
    dropdown.classList.add('show');
    button.classList.add('active');
    
    // åˆå›ã®ã¿æœˆãƒªã‚¹ãƒˆã‚’å‹•çš„ç”Ÿæˆ
    loadAvailableMonthsFromDateScroll();
  }
}

// date-scrollã‹ã‚‰æœˆãƒªã‚¹ãƒˆã‚’å–å¾—
let monthsLoaded = false;

function loadAvailableMonthsFromDateScroll() {
  if (monthsLoaded) return;
  
  const container = document.getElementById('month-options');
  if (!container) return;
  
  container.innerHTML = '<div style="padding: 12px; text-align: center; color: #999;">èª­ã¿è¾¼ã¿ä¸­...</div>';
  
  try {
    // date-scrollã‹ã‚‰æœˆã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’å–å¾—
    const monthIndicators = document.querySelectorAll('.month-indicator[data-month]');
    const monthSet = new Set();
    
    monthIndicators.forEach(indicator => {
      const month = indicator.dataset.month;
      if (month) {
        monthSet.add(month);
      }
    });
    
    // æœˆã‚’ã‚½ãƒ¼ãƒˆ
    let months = Array.from(monthSet).sort();
    
    // date-scrollã«ãƒ‡ãƒ¼ã‚¿ãŒãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
    if (months.length === 0) {
      console.log('âš ï¸ date-scrollã‹ã‚‰æœˆã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†ã‚’å®Ÿè¡Œ');
      
      // ä»Šæœˆã‹ã‚‰æœªæ¥6ãƒ¶æœˆã‚’ç”Ÿæˆ
      const today = new Date();
      for (let i = 0; i < 6; i++) {
        const date = new Date(today.getFullYear(), today.getMonth() + i, 1);
        const year = date.getFullYear();
        const month = String(date.getMonth() + 1).padStart(2, '0');
        months.push(`${year}-${month}`);
      }
    }
    
    // ç¾åœ¨ã®æœˆã‚’å–å¾—
    const currentPath = window.location.pathname;
    const pathMonthMatch = currentPath.match(/list-(\d{4}-\d{2})/);
    const currentMonth = pathMonthMatch ? pathMonthMatch[1] : new Date().toISOString().slice(0, 7);
    
    // åœ°åŸŸã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
    const regionCode = document.querySelector('.ev-header-sty')?.dataset.currentArea || 'ALL';
    const regionPath = regionCode === 'ALL' ? '' : `-${regionCode.toLowerCase()}`;
    
    // HTMLç”Ÿæˆ
    const html = months.map(monthValue => {
      const [year, monthNum] = monthValue.split('-');
      const display = `${year}å¹´${parseInt(monthNum)}æœˆ`;
      const isActive = monthValue === currentMonth;
      const url = `/blogs/media/event${regionPath}-list-${monthValue}`;
      
      return `
        <a href="${url}" 
           class="month-option ${isActive ? 'active' : ''}"
           data-month="${monthValue}">
          <span class="month-option-label">${display}</span>
          ${isActive ? '' : '<span class="month-option-arrow">â†’</span>'}
        </a>
      `;
    }).join('');
    
    container.innerHTML = html;
    monthsLoaded = true;
    
    console.log('âœ… æœˆãƒªã‚¹ãƒˆç”Ÿæˆï¼ˆdate-scrollæŠ½å‡ºï¼‰:', months.length, 'ä»¶');
    
  } catch (error) {
    console.error('âŒ æœˆãƒªã‚¹ãƒˆç”Ÿæˆã‚¨ãƒ©ãƒ¼:', error);
    container.innerHTML = '<div style="padding: 12px; text-align: center; color: #ff0000;">ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</div>';
  }
}

// å¤–å´ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
document.addEventListener('click', function(e) {
  const monthButton = document.querySelector('.month-button-main');
  const monthDropdown = document.getElementById('month-dropdown');
  
  if (monthButton && monthDropdown && 
      !monthButton.contains(e.target)) {
    monthDropdown.classList.remove('show');
    monthButton.classList.remove('active');
  }
});

// date-scrollã®ç”Ÿæˆã‚’å¾…ã¤
// events-list.jsãŒdate-scrollã‚’ç”Ÿæˆã—ãŸå¾Œã«å®Ÿè¡Œ
document.addEventListener('DOMContentLoaded', function() {
  // date-scrollãŒç”Ÿæˆã•ã‚Œã‚‹ã¾ã§å¾…ã¤
  const checkDateScroll = setInterval(function() {
    const dateScroll = document.getElementById('date-scroll');
    if (dateScroll && dateScroll.children.length > 0) {
      clearInterval(checkDateScroll);
      console.log('âœ… date-scroll ç”Ÿæˆå®Œäº†ã€‚æœˆãƒªã‚¹ãƒˆã®æº–å‚™OK');
      // monthsLoadedã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦å†èª­ã¿è¾¼ã¿å¯èƒ½ã«ã™ã‚‹
      monthsLoaded = false;
    }
  }, 500);
  
  // 10ç§’çµŒã£ã¦ã‚‚date-scrollãŒç”Ÿæˆã•ã‚Œãªã„å ´åˆã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
  setTimeout(function() {
    clearInterval(checkDateScroll);
  }, 10000);
});
</script>


