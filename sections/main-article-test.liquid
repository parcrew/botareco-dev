<style>
/* ================================================================
   2æ®µéšã‚¨ãƒªã‚¢é¸æŠå¯¾å¿œCSS
   ================================================================ */

/* æ—¢å­˜ã®ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼CSSï¼ˆå¤‰æ›´ãªã—ï¼‰ */
.ev-header-sty {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid #e0e0e0;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 0;
}

.header-container {
  display: flex;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0;
}

.ev-left-column {
  display: flex;
  flex-shrink: 0;
}

.this-week {
  background: #4A90E2;
  color: white;
  padding: 10px 16px;
  text-decoration: none;
  font-weight: bold;
  font-size: 12px;
  line-height: 1.2;
  text-align: center;
  min-width: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 0;
  margin: 0;
}

.this-week:hover {
  background: #357ABD;
  text-decoration: none;
  color: white;
}

.area-value {
  background: #333;
  color: white;
  padding: 10px 16px;
  font-weight: bold;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 80px;
  transition: background-color 0.2s ease;
}

.area-value:hover {
  background: #555;
}

.ev-right-column {
  flex: 1;
  overflow: hidden;
}

.date-scroll {
  display: flex;
  align-items: center;
  overflow-x: auto;
  padding: 8px 16px;
  gap: 2px;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.date-scroll::-webkit-scrollbar {
  display: none;
}

.month-indicator {
  background: linear-gradient(135deg, #8E44AD, #9B59B6);
  color: white;
  padding: 12px 14px;
  font-weight: bold;
  font-size: 11px;
  white-space: nowrap;
  flex-shrink: 0;
  border-radius: 0;
  text-align: center;
  min-height: 48px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

.date-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 8px;
  min-width: 48px;
  height: 48px;
  border: none;
  background: #f5f5f5;
  color: #666;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 10px;
  flex-shrink: 0;
  border-radius: 0;
  margin: 0;
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
}

.date-btn:hover {
  background: #e0e0e0;
  color: #333;
}

.date-btn.active {
  background: #333;
  color: white;
  font-weight: bold;
}

.date-btn.has-events {
  background: #e8f4f8;
  border: 1px solid #4A90E2;
  color: #4A90E2;
}

.date-btn.has-events:hover {
  background: #4A90E2;
  color: white;
}

.date-btn.has-events.active {
  background: #333;
  color: white;
  border-color: #333;
}

.date-btn.no-events {
  opacity: 0.7;
  background: #f9f9f9;
  color: #999;
}

.date-btn.no-events:hover {
  opacity: 0.9;
  background: #f0f0f0;
}

.date-yobi {
  font-size: 8px;
  font-weight: 500;
  margin-bottom: 2px;
  opacity: 0.8;
}

.date-day {
  font-size: 16px;
  font-weight: bold;
  line-height: 1;
}

.date-mt {
  font-size: 7px;
  opacity: 0.7;
  margin-top: 1px;
}

/* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ãƒãƒ¼ã‚¸ãƒ³èª¿æ•´ */
.events-main-content {
  margin-top: 80px;
  padding-top: 20px;
}

/* ================================================================
   2æ®µéšã‚¨ãƒªã‚¢é¸æŠãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—CSS
   ================================================================ */

/* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—èƒŒæ™¯ï¼ˆå…¨ç”»é¢ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼‰ */
.area-popup {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1100;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

/* èƒŒæ™¯ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼ˆè–„ã„é€æ˜ç°è‰²ï¼‰ */
.popup-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(4px);
}

/* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
.popup-content {
  position: relative;
  background: #f4f3ff;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
  min-width: 480px;
  max-width: 600px;
  max-height: 80vh;
  overflow-y: auto;
  z-index: 1101;
}

/* ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»é¢å…±é€š */
.menu-screen {
  padding: 40px;
}

/* é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ */
.popup-close {
  position: absolute;
  top: 20px;
  right: 25px;
  background: none;
  border: none;
  font-size: 30px;
  cursor: pointer;
  color: #666;
  line-height: 1;
  padding: 0;
  z-index: 1102;
}

.popup-close:hover {
  color: #333;
}

/* æˆ»ã‚‹ãƒœã‚¿ãƒ³ */
.back-button {
  background: none;
  border: none;
  font-size: 16px;
  color: #8E44AD;
  cursor: pointer;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  font-weight: 500;
}

.back-button:hover {
  color: #7D3C98;
}

/* ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒˆãƒ« */
.section-title {
  font-size: 18px;
  font-weight: bold;
  color: #333;
  margin: 0 0 20px 0;
  text-align: left;
}

/* è©³ç´°ç”»é¢ã‚¿ã‚¤ãƒˆãƒ« */
.detail-title {
  font-size: 24px;
  font-weight: bold;
  color: #333;
  margin: 0 0 30px 0;
  text-align: left;
  border-bottom: 2px solid #8E44AD;
  padding-bottom: 10px;
}

/* POPULAR AREA ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
.popular-section {
  margin-bottom: 40px;
}

.popular-options {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.popular-option {
  background: linear-gradient(135deg, #8E44AD, #9B59B6);
  color: white;
  padding: 16px 20px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: bold;
  font-size: 14px;
  text-align: center;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(142, 68, 173, 0.3);
}

.popular-option:hover {
  background: linear-gradient(135deg, #7D3C98, #8E44AD);
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(142, 68, 173, 0.4);
  text-decoration: none;
  color: white;
}

/* SELECT AREA ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
.select-section {
  margin-bottom: 20px;
}

/* ALL EVENT ãƒœã‚¿ãƒ³ */
.all-event-option {
  display: block;
  background: linear-gradient(135deg, #C8B5E6, #D7C4ED);
  color: #5A4FCF;
  padding: 20px;
  border-radius: 12px;
  text-decoration: none;
  font-weight: bold;
  font-size: 18px;
  text-align: center;
  margin-bottom: 20px;
  transition: all 0.3s ease;
  box-shadow: 0 3px 12px rgba(200, 181, 230, 0.4);
  border: 2px solid rgba(90, 79, 207, 0.2);
}

.all-event-option:hover {
  background: linear-gradient(135deg, #B8A1DF, #C8B5E6);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(200, 181, 230, 0.6);
  text-decoration: none;
  color: #5A4FCF;
}

/* åœ°æ–¹é¸æŠã‚ªãƒ—ã‚·ãƒ§ãƒ³ */
.region-options {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.region-option {
  background: linear-gradient(135deg, #C8B5E6, #D7C4ED);
  color: #5A4FCF;
  padding: 16px 12px;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  font-size: 13px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 2px 6px rgba(200, 181, 230, 0.3);
}

.region-option:hover {
  background: linear-gradient(135deg, #B8A1DF, #C8B5E6);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(200, 181, 230, 0.5);
}

/* è©³ç´°ç”»é¢ã® ALL åœ°åŸŸãƒœã‚¿ãƒ³ */
.all-region-option {
  display: block;
  background: linear-gradient(135deg, #C8B5E6, #D7C4ED);
  color: #5A4FCF;
  padding: 20px;
  border-radius: 12px;
  text-decoration: none;
  font-weight: bold;
  font-size: 18px;
  text-align: center;
  margin-bottom: 30px;
  transition: all 0.3s ease;
  box-shadow: 0 3px 12px rgba(200, 181, 230, 0.4);
  border: 2px solid rgba(90, 79, 207, 0.2);
}

.all-region-option:hover {
  background: linear-gradient(135deg, #B8A1DF, #C8B5E6);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(200, 181, 230, 0.6);
  text-decoration: none;
  color: #5A4FCF;
}

/* è©³ç´°åœ°åŸŸã‚ªãƒ—ã‚·ãƒ§ãƒ³ */
.detail-options {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.detail-area-option {
  background: linear-gradient(135deg, #C8B5E6, #D7C4ED);
  color: #5A4FCF;
  padding: 16px 12px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  font-size: 13px;
  text-align: center;
  transition: all 0.3s ease;
  box-shadow: 0 2px 6px rgba(200, 181, 230, 0.3);
  display: block;
}

.detail-area-option:hover {
  background: linear-gradient(135deg, #B8A1DF, #C8B5E6);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(200, 181, 230, 0.5);
  text-decoration: none;
  color: #5A4FCF;
}

/* ãƒ‘ãƒ³ããšãƒŠãƒ“ */
.breadcrumb {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  color: #666;
  margin: 20px 0;
  flex-wrap: wrap;
  gap: 4px;
}

.breadcrumb-link {
  color: #4A90E2;
  text-decoration: none;
  font-weight: 500;
}

.breadcrumb-link:hover {
  text-decoration: underline;
}

.breadcrumb-separator {
  margin: 0 8px;
  color: #999;
}

.breadcrumb-current {
  color: #333;
  font-weight: 600;
}

/* æ—¥åˆ¥ãƒšãƒ¼ã‚¸ç”¨ã®å‰å¾Œæ—¥ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */
.day-navigation {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  padding: 12px 20px;
  border-radius: 25px;
  border: 1px solid #e0e0e0;
  box-shadow: 0 4px 20px rgba(0,0,0,0.15);
  gap: 20px;
  z-index: 1001;
}

.prev-day, .next-day {
  display: flex;
  align-items: center;
  padding: 8px 16px;
  background: #4A90E2;
  color: white;
  text-decoration: none;
  border-radius: 15px;
  font-weight: 500;
  font-size: 14px;
  transition: all 0.2s ease;
  min-width: 80px;
  justify-content: center;
}

.prev-day:hover, .next-day:hover {
  background: #357ABD;
  text-decoration: none;
  color: white;
  transform: translateY(-1px);
}

.current-day {
  font-weight: bold;
  color: #333;
  font-size: 16px;
  padding: 8px 16px;
  background: white;
  border-radius: 15px;
  border: 2px solid #4A90E2;
  white-space: nowrap;
}

/* ãã®ä»–ã®æ—¢å­˜ã‚¹ã‚¿ã‚¤ãƒ« */
.back-to-month {
  display: inline-flex;
  align-items: center;
  padding: 8px 14px;
  background: #4A90E2;
  color: white;
  text-decoration: none;
  border-radius: 6px;
  font-weight: 500;
  font-size: 12px;
  transition: all 0.3s ease;
  white-space: nowrap;
}

.back-to-month:hover {
  background: #357ABD;
  color: white;
  text-decoration: none;
  transform: translateY(-1px);
}

.events-loading {
  text-align: center;
  padding: 60px 20px;
  color: #666;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid #f3f3f3;
  border-top: 4px solid #4A90E2;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 20px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.events-footer-message {
  margin-top: 40px;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  text-align: center;
  color: #555;
  border-left: 4px solid #4A90E2;
}

.events-footer-message a {
  color: #4A90E2;
  font-weight: bold;
  text-decoration: underline;
}

.day-page-info {
  margin-bottom: 32px;
}

.day-info-card {
  background: linear-gradient(135deg, #f8f9fa, #ffffff);
  padding: 24px;
  border-radius: 12px;
  border: 1px solid #e0e0e0;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.day-info-card h2 {
  color: #333;
  margin-bottom: 12px;
  font-size: 1.5rem;
}

.day-info-card p {
  color: #666;
  margin: 0;
}

/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
@media (max-width: 768px) {
  .header-container {
    padding: 0;
  }
  
  .this-week {
    min-width: 50px;
    padding: 8px 12px;
    font-size: 11px;
  }
  
  .area-value {
    min-width: 70px;
    padding: 8px 12px;
    font-size: 13px;
  }
  
  .date-scroll {
    padding: 6px 12px;
  }
  
  .date-btn {
    min-width: 42px;
    height: 42px;
    padding: 6px;
  }
  
  .date-day {
    font-size: 14px;
  }
  
  .month-indicator {
    padding: 10px 12px;
    font-size: 10px;
    min-height: 42px;
  }
  
  .events-main-content {
    margin-top: 70px;
  }
  
  /* ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ */
  .popup-content {
    min-width: auto;
    margin: 10px;
    max-height: 90vh;
  }
  
  .menu-screen {
    padding: 30px 20px;
  }
  
  .popular-options {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .region-options {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .detail-options {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .popular-option {
    padding: 14px 16px;
    font-size: 13px;
  }
  
  .region-option, .detail-area-option {
    padding: 14px 10px;
    font-size: 12px;
  }
  
  .all-event-option, .all-region-option {
    padding: 16px;
    font-size: 16px;
  }
  
  .day-navigation {
    padding: 10px 16px;
    gap: 16px;
    left: 10px;
    right: 10px;
    transform: none;
  }
  
  .prev-day, .next-day {
    padding: 6px 12px;
    font-size: 12px;
    min-width: 70px;
  }
  
  .current-day {
    font-size: 14px;
    padding: 6px 12px;
  }
}
</style>
{% comment %}
  Template: event-list.liquidï¼ˆæ”¹è‰¯ç‰ˆã‚¨ãƒªã‚¢é¸æŠå¯¾å¿œï¼‰
  æ©Ÿèƒ½: æ—¢å­˜ãƒ‡ã‚¶ã‚¤ãƒ³ + 2æ®µéšã‚¨ãƒªã‚¢é¸æŠãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—
{% endcomment %}

{% comment %}=== URLè§£æã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æŠ½å‡ºï¼ˆæ—¢å­˜ã¨åŒã˜ï¼‰ ==={% endcomment %}
{% assign current_path = request.path %}
{% assign region_code = 'ALL' %}
{% assign region_name_jp = 'å…¨å›½' %}
{% assign year_month = '' %}
{% assign year_month_day = '' %}
{% assign display_year = '' %}
{% assign display_month = '' %}
{% assign display_day = '' %}
{% assign display_month_name = '' %}
{% assign page_type = 'top' %}

{% comment %}åœ°åŸŸåˆ¤å®š{% endcomment %}
{% if current_path contains 'event-tokyo-list' %}
  {% assign region_code = 'TOKYO' %}
  {% assign region_name_jp = 'æ±äº¬' %}
{% elsif current_path contains 'event-osaka-list' %}
  {% assign region_code = 'OSAKA' %}
  {% assign region_name_jp = 'å¤§é˜ª' %}
{% elsif current_path contains 'event-kyoto-list' %}
  {% assign region_code = 'KYOTO' %}
  {% assign region_name_jp = 'äº¬éƒ½' %}
{% elsif current_path contains 'event-aichi-list' %}
  {% assign region_code = 'AICHI' %}
  {% assign region_name_jp = 'æ„›çŸ¥' %}
{% elsif current_path contains 'event-fukuoka-list' %}
  {% assign region_code = 'FUKUOKA' %}
  {% assign region_name_jp = 'ç¦å²¡' %}
{% elsif current_path contains 'event-hokkaido-list' %}
  {% assign region_code = 'HOKKAIDO' %}
  {% assign region_name_jp = 'åŒ—æµ·é“' %}
{% endif %}

{% comment %}æ—¥ä»˜æŠ½å‡º{% endcomment %}
{% assign url_parts = current_path | split: 'list-' %}
{% if url_parts.size > 1 %}
  {% assign date_part = url_parts[1] %}
  {% assign date_segments = date_part | split: '-' %}
  
  {% if date_segments.size == 3 %}
    {% assign year_month_day = date_part %}
    {% assign year_month = date_segments[0] | append: '-' | append: date_segments[1] %}
    {% assign display_year = date_segments[0] %}
    {% assign display_month = date_segments[1] %}
    {% assign display_day = date_segments[2] %}
    {% assign page_type = 'day' %}
  {% elsif date_segments.size == 2 %}
    {% assign year_month = date_part %}
    {% assign display_year = date_segments[0] %}
    {% assign display_month = date_segments[1] %}
    {% assign page_type = 'month' %}
  {% endif %}
{% endif %}

{% comment %}æœˆåå¤‰æ›{% endcomment %}
{% if display_month != '' %}
  {% case display_month %}
    {% when '01' %}{% assign display_month_name = '1æœˆ' %}
    {% when '02' %}{% assign display_month_name = '2æœˆ' %}
    {% when '03' %}{% assign display_month_name = '3æœˆ' %}
    {% when '04' %}{% assign display_month_name = '4æœˆ' %}
    {% when '05' %}{% assign display_month_name = '5æœˆ' %}
    {% when '06' %}{% assign display_month_name = '6æœˆ' %}
    {% when '07' %}{% assign display_month_name = '7æœˆ' %}
    {% when '08' %}{% assign display_month_name = '8æœˆ' %}
    {% when '09' %}{% assign display_month_name = '9æœˆ' %}
    {% when '10' %}{% assign display_month_name = '10æœˆ' %}
    {% when '11' %}{% assign display_month_name = '11æœˆ' %}
    {% when '12' %}{% assign display_month_name = '12æœˆ' %}
  {% endcase %}
{% endif %}

<div class="page-width">
  
  <!-- æ—¢å­˜ãƒ‡ã‚¶ã‚¤ãƒ³ã®ãƒ˜ãƒƒãƒ€ãƒ¼æ§‹é€ ï¼ˆFixedå¯¾å¿œï¼‰ -->
  <header class="ev-header-sty" data-current-area="{{ region_code }}">
    <div class="header-container">
      
      <!-- å·¦ã‚«ãƒ©ãƒ : ALL EVENT + ã‚¨ãƒªã‚¢é¸æŠ -->
      <div class="ev-left-column">
        <a href="/blogs/news/event-list" class="this-week">
          ALL<br>EVENT
        </a>
        <div class="area-value" onclick="openAreaPopup()">
          <span id="selected-area">{{ region_code }}</span>
        </div>
      </div>
      
      <!-- å³ã‚«ãƒ©ãƒ : ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ -->
      <div class="ev-right-column">
        <div class="date-scroll" id="date-scroll">
          <!-- JavaScriptãŒã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’ç”Ÿæˆ -->
        </div>
      </div>
      
    </div>
  </header>

  <!-- ãƒ‘ãƒ³ããšãƒŠãƒ“ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼å¤–ï¼‰ -->
  {% if page_type != 'top' %}
  <nav class="breadcrumb">
    <a href="/blogs/news/event-list" class="breadcrumb-link">ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ãƒˆãƒƒãƒ—</a>
    
    {% if region_code != 'ALL' %}
      <span class="breadcrumb-separator"> > </span>
      <a href="/blogs/news/event-{{ region_code | downcase }}-list" class="breadcrumb-link">{{ region_name_jp }}ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</a>
    {% endif %}
    
    {% if page_type == 'month' %}
      <span class="breadcrumb-separator"> > </span>
      <span class="breadcrumb-current">{{ display_year }}å¹´{{ display_month_name }}</span>
    {% elsif page_type == 'day' %}
      <span class="breadcrumb-separator"> > </span>
      {% if region_code == 'ALL' %}
        <a href="/blogs/news/event-list-{{ year_month }}" class="breadcrumb-link">{{ display_year }}å¹´{{ display_month_name }}</a>
      {% else %}
        <a href="/blogs/news/event-{{ region_code | downcase }}-list-{{ year_month }}" class="breadcrumb-link">{{ display_year }}å¹´{{ display_month_name }}</a>
      {% endif %}
      <span class="breadcrumb-separator"> > </span>
      {% assign display_day_clean = display_day | plus: 0 %}
      <span class="breadcrumb-current">{{ display_month_name }}{{ display_day_clean }}æ—¥</span>
    {% endif %}
  </nav>
  {% endif %}

  <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ -->
  <main class="events-main-content">
    
    <!-- æ—¥åˆ¥ãƒšãƒ¼ã‚¸å°‚ç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
    {% if page_type == 'day' %}
    <div class="day-page-info">
      <div class="day-info-card">
        {% assign display_day_clean = display_day | plus: 0 %}
        <h2>ğŸ“… {{ region_name_jp }} {{ display_year }}å¹´{{ display_month_name }}{{ display_day_clean }}æ—¥ã®ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±</h2>
        <p>ã“ã®æ—¥ã«{{ region_name_jp }}ã§é–‹å‚¬ã•ã‚Œã‚‹æ¤ç‰©ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚</p>
      </div>
    </div>
    {% endif %}
    
    <!-- ã‚¤ãƒ™ãƒ³ãƒˆã‚³ãƒ³ãƒ†ãƒŠ -->
    <div id="event-container" 
         data-region="{{ region_code }}"
         {% if page_type == 'month' %}data-month="{{ year_month }}"{% endif %}
         {% if page_type == 'day' %}data-day="{{ year_month_day }}"{% endif %}
         class="events-container">
      
      <!-- åˆæœŸãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º -->
      <div class="events-loading">
        <div class="loading-spinner"></div>
        <p>{{ region_name_jp }}ã®ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...</p>
      </div>
      
    </div>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
    <div class="events-footer-message">
      <p>
        {% if page_type == 'day' %}
          {{ region_name_jp }}ã®{{ display_year }}å¹´{{ display_month_name }}{{ display_day_clean }}æ—¥ã®å…¨ã¦ã®ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚<br>
          {% if region_code == 'ALL' %}
            <a href="/blogs/news/event-list-{{ year_month }}">{{ display_year }}å¹´{{ display_month_name }}ã®ä¸€è¦§</a>ã‚„
            <a href="/blogs/news/event-list">ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ãƒˆãƒƒãƒ—</a>ã‚‚ã”è¦§ãã ã•ã„ã€‚
          {% else %}
            <a href="/blogs/news/event-{{ region_code | downcase }}-list-{{ year_month }}">{{ region_name_jp }}ã®{{ display_year }}å¹´{{ display_month_name }}ã®ä¸€è¦§</a>ã‚„
            <a href="/blogs/news/event-{{ region_code | downcase }}-list">{{ region_name_jp }}ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</a>ã‚‚ã”è¦§ãã ã•ã„ã€‚
          {% endif %}
        {% elsif page_type == 'month' %}
          {{ region_name_jp }}ã®{{ display_year }}å¹´{{ display_month_name }}ã®å…¨ã¦ã®ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚
          {% if region_code == 'ALL' %}
            ä»–ã®æœˆã®ã‚¤ãƒ™ãƒ³ãƒˆã¯<a href="/blogs/news/event-list">ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§ãƒˆãƒƒãƒ—</a>ã‹ã‚‰ã”è¦§ãã ã•ã„ã€‚
          {% else %}
            ä»–ã®æœˆã®ã‚¤ãƒ™ãƒ³ãƒˆã¯<a href="/blogs/news/event-{{ region_code | downcase }}-list">{{ region_name_jp }}ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</a>ã‹ã‚‰ã”è¦§ãã ã•ã„ã€‚
          {% endif %}
        {% else %}
          ã‚ˆã‚Šå¤šãã®ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã¯ã€å„æœˆã®è©³ç´°ãƒšãƒ¼ã‚¸ã§ã”è¦§ã„ãŸã ã‘ã¾ã™ã€‚
        {% endif %}
      </p>
    </div>
    
  </main>
  
</div>

<!-- 2æ®µéšã‚¨ãƒªã‚¢é¸æŠãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— -->
<div id="area-popup" class="area-popup" style="display: none;">
  <div class="popup-overlay"></div>
  <div class="popup-content">
    
    <!-- ãƒ¡ã‚¤ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="main-menu" class="menu-screen">
      <button onclick="closeAreaPopup()" class="popup-close">Ã—</button>
      
      <!-- POPULAR AREA ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <div class="popular-section">
        <h3 class="section-title">POPULAR AREA</h3>
        <div class="popular-options">
          <a href="/blogs/news/event-tokyo-list" class="popular-option">TOKYO</a>
          <a href="/blogs/news/event-osaka-list" class="popular-option">OSAKA</a>
          <a href="/blogs/news/event-kyoto-list" class="popular-option">KYOTO</a>
          <a href="/blogs/news/event-aichi-list" class="popular-option">NAGOYA</a>
          <a href="/blogs/news/event-fukuoka-list" class="popular-option">FUKUOKA</a>
        </div>
      </div>
      
      <!-- SELECT AREA ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
      <div class="select-section">
        <h3 class="section-title">SELECT AREA</h3>
        
        <!-- ALL EVENT -->
        <a href="/blogs/news/event-list" class="all-event-option">ALL EVENT</a>
        
        <!-- åœ°æ–¹é¸æŠ -->
        <div class="region-options">
          <button onclick="showRegionDetail('hokkaido')" class="region-option" data-region="hokkaido">Hokkaido</button>
          <button onclick="showRegionDetail('tohoku')" class="region-option" data-region="tohoku">Tohoku</button>
          <button onclick="showRegionDetail('kanto')" class="region-option" data-region="kanto">Kanto</button>
          <button onclick="showRegionDetail('chubu')" class="region-option" data-region="chubu">Chubu</button>
          <button onclick="showRegionDetail('kansai')" class="region-option" data-region="kansai">Kansai</button>
          <button onclick="showRegionDetail('shikoku')" class="region-option" data-region="shikoku">Shikoku</button>
          <button onclick="showRegionDetail('chugoku')" class="region-option" data-region="chugoku">Chugoku</button>
          <button onclick="showRegionDetail('kyushu')" class="region-option" data-region="kyushu">Kyushu</button>
          <button onclick="showRegionDetail('okinawa')" class="region-option" data-region="okinawa">Okinawa</button>
        </div>
      </div>
    </div>
    
    <!-- è©³ç´°ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="detail-menu" class="menu-screen" style="display: none;">
      <button onclick="showMainMenu()" class="back-button">â† Back to menu</button>
      <button onclick="closeAreaPopup()" class="popup-close">Ã—</button>
      
      <h3 id="detail-title" class="detail-title">HOKKAIDO</h3>
      
      <!-- ALL åœ°åŸŸ ãƒœã‚¿ãƒ³ -->
      <a id="all-region-link" href="#" class="all-region-option">ALL HOKKAIDO</a>
      
      <!-- è©³ç´°åœ°åŸŸã‚ªãƒ—ã‚·ãƒ§ãƒ³ -->
      <div id="detail-options" class="detail-options">
        <!-- JavaScriptã§å‹•çš„ã«ç”Ÿæˆ -->
      </div>
    </div>
    
  </div>
</div>

<!-- JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ -->
{{ 'events-list.js' | asset_url | script_tag }}

<!-- CSSãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ -->
{{ 'events-list.css' | asset_url | stylesheet_tag }}

<script>
// åœ°åŸŸãƒ‡ãƒ¼ã‚¿å®šç¾©
const regionData = {
  hokkaido: {
    title: 'HOKKAIDO',
    allLink: '/blogs/news/event-hokkaido-list',
    areas: [
      { name: 'DOUO', link: '/blogs/news/event-douo-list' },
      { name: 'TOKACHI', link: '/blogs/news/event-tokachi-list' },
      { name: 'DONAN', link: '/blogs/news/event-donan-list' },
      { name: 'OKHOTSK', link: '/blogs/news/event-okhotsk-list' },
      { name: 'DOHOKU', link: '/blogs/news/event-dohoku-list' },
      { name: 'KUSHIRO/NEMURO', link: '/blogs/news/event-kushiro-list' }
    ]
  },
  tohoku: {
    title: 'TOHOKU',
    allLink: '/blogs/news/event-tohoku-list',
    areas: [
      { name: 'AOMORI', link: '/blogs/news/event-aomori-list' },
      { name: 'IWATE', link: '/blogs/news/event-iwate-list' },
      { name: 'MIYAGI', link: '/blogs/news/event-miyagi-list' },
      { name: 'AKITA', link: '/blogs/news/event-akita-list' },
      { name: 'YAMAGATA', link: '/blogs/news/event-yamagata-list' },
      { name: 'FUKUSHIMA', link: '/blogs/news/event-fukushima-list' }
    ]
  },
  kanto: {
    title: 'KANTO',
    allLink: '/blogs/news/event-kanto-list',
    areas: [
      { name: 'TOKYO', link: '/blogs/news/event-tokyo-list' },
      { name: 'KANAGAWA', link: '/blogs/news/event-kanagawa-list' },
      { name: 'CHIBA', link: '/blogs/news/event-chiba-list' },
      { name: 'SAITAMA', link: '/blogs/news/event-saitama-list' },
      { name: 'IBARAKI', link: '/blogs/news/event-ibaraki-list' },
      { name: 'TOCHIGI', link: '/blogs/news/event-tochigi-list' },
      { name: 'GUNMA', link: '/blogs/news/event-gunma-list' }
    ]
  },
  chubu: {
    title: 'CHUBU',
    allLink: '/blogs/news/event-chubu-list',
    areas: [
      { name: 'AICHI', link: '/blogs/news/event-aichi-list' },
      { name: 'SHIZUOKA', link: '/blogs/news/event-shizuoka-list' },
      { name: 'GIFU', link: '/blogs/news/event-gifu-list' },
      { name: 'NAGANO', link: '/blogs/news/event-nagano-list' },
      { name: 'YAMANASHI', link: '/blogs/news/event-yamanashi-list' },
      { name: 'NIIGATA', link: '/blogs/news/event-niigata-list' },
      { name: 'TOYAMA', link: '/blogs/news/event-toyama-list' },
      { name: 'ISHIKAWA', link: '/blogs/news/event-ishikawa-list' },
      { name: 'FUKUI', link: '/blogs/news/event-fukui-list' }
    ]
  },
  kansai: {
    title: 'KANSAI',
    allLink: '/blogs/news/event-kansai-list',
    areas: [
      { name: 'OSAKA', link: '/blogs/news/event-osaka-list' },
      { name: 'KYOTO', link: '/blogs/news/event-kyoto-list' },
      { name: 'HYOGO', link: '/blogs/news/event-hyogo-list' },
      { name: 'NARA', link: '/blogs/news/event-nara-list' },
      { name: 'SHIGA', link: '/blogs/news/event-shiga-list' },
      { name: 'WAKAYAMA', link: '/blogs/news/event-wakayama-list' }
    ]
  },
  shikoku: {
    title: 'SHIKOKU',
    allLink: '/blogs/news/event-shikoku-list',
    areas: [
      { name: 'TOKUSHIMA', link: '/blogs/news/event-tokushima-list' },
      { name: 'KAGAWA', link: '/blogs/news/event-kagawa-list' },
      { name: 'EHIME', link: '/blogs/news/event-ehime-list' },
      { name: 'KOCHI', link: '/blogs/news/event-kochi-list' }
    ]
  },
  chugoku: {
    title: 'CHUGOKU',
    allLink: '/blogs/news/event-chugoku-list',
    areas: [
      { name: 'HIROSHIMA', link: '/blogs/news/event-hiroshima-list' },
      { name: 'OKAYAMA', link: '/blogs/news/event-okayama-list' },
      { name: 'YAMAGUCHI', link: '/blogs/news/event-yamaguchi-list' },
      { name: 'SHIMANE', link: '/blogs/news/event-shimane-list' },
      { name: 'TOTTORI', link: '/blogs/news/event-tottori-list' }
    ]
  },
  kyushu: {
    title: 'KYUSHU',
    allLink: '/blogs/news/event-kyushu-list',
    areas: [
      { name: 'FUKUOKA', link: '/blogs/news/event-fukuoka-list' },
      { name: 'SAGA', link: '/blogs/news/event-saga-list' },
      { name: 'NAGASAKI', link: '/blogs/news/event-nagasaki-list' },
      { name: 'KUMAMOTO', link: '/blogs/news/event-kumamoto-list' },
      { name: 'OITA', link: '/blogs/news/event-oita-list' },
      { name: 'MIYAZAKI', link: '/blogs/news/event-miyazaki-list' },
      { name: 'KAGOSHIMA', link: '/blogs/news/event-kagoshima-list' }
    ]
  },
  okinawa: {
    title: 'OKINAWA',
    allLink: '/blogs/news/event-okinawa-list',
    areas: [
      { name: 'NAHA', link: '/blogs/news/event-naha-list' },
      { name: 'OKINAWA MAIN', link: '/blogs/news/event-okinawa-main-list' },
      { name: 'ISHIGAKI', link: '/blogs/news/event-ishigaki-list' }
    ]
  }
};

// ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—é–¢æ•°
function openAreaPopup() {
  document.getElementById('area-popup').style.display = 'flex';
  showMainMenu();
}

function closeAreaPopup() {
  document.getElementById('area-popup').style.display = 'none';
}

function showMainMenu() {
  document.getElementById('main-menu').style.display = 'block';
  document.getElementById('detail-menu').style.display = 'none';
}

function showRegionDetail(regionKey) {
  const region = regionData[regionKey];
  if (!region) return;
  
  // ã‚¿ã‚¤ãƒˆãƒ«æ›´æ–°
  document.getElementById('detail-title').textContent = region.title;
  
  // ALLåœ°åŸŸãƒªãƒ³ã‚¯æ›´æ–°
  const allRegionLink = document.getElementById('all-region-link');
  allRegionLink.href = region.allLink;
  allRegionLink.textContent = `ALL ${region.title}`;
  
  // è©³ç´°ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ
  const detailOptions = document.getElementById('detail-options');
  detailOptions.innerHTML = region.areas.map(area => 
    `<a href="${area.link}" class="detail-area-option">${area.name}</a>`
  ).join('');
  
  // ç”»é¢åˆ‡ã‚Šæ›¿ãˆ
  document.getElementById('main-menu').style.display = 'none';
  document.getElementById('detail-menu').style.display = 'block';
}

// ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
document.addEventListener('click', function(e) {
  const popup = document.getElementById('area-popup');
  if (e.target === popup || e.target.classList.contains('popup-overlay')) {
    closeAreaPopup();
  }
});
</script>